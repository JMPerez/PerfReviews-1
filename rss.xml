<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[PerfReviews]]></title><description><![CDATA[Enseñamos web performance analizando sitios webs reales. Compartimos trucos, herramientas y workflows para mejorar el rendimiento de sitios web.]]></description><link>https://perf.reviews</link><generator>RSS for Node</generator><lastBuildDate>Wed, 03 Apr 2019 05:43:21 GMT</lastBuildDate><item><title><![CDATA[Lighthouse Report]]></title><description><![CDATA[Una de las herramientas que utilizamos para hacer las PerfReview es  Lighthouse , vamos a ver cómo utilizarlo para crear unos informes de…]]></description><link>https://perf.reviews/tools/1.1-Lighthouse-Report/</link><guid isPermaLink="false">https://perf.reviews/tools/1.1-Lighthouse-Report/</guid><pubDate>Tue, 02 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Una de las herramientas que utilizamos para hacer las PerfReview es &lt;a href=&quot;https://developers.google.com/web/tools/lighthouse/&quot;&gt;Lighthouse&lt;/a&gt;, vamos a ver cómo utilizarlo para crear unos informes de Performance de diferentes sites.&lt;/p&gt;
&lt;p&gt;Podréis encontrar todo el código en el repositorio &lt;a href=&quot;https://github.com/PerfReviews/PerfTools&quot;&gt;PerfTools&lt;/a&gt;.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Optimizando el script&lt;/h2&gt;
&lt;p&gt;En el vídeo del canal generamos un script con la previsión de extender algunas de las funcionalidades, en esta ocasión vamos a generar un script más óptimo.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Encontraréis el vídeo al final del artículo.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Informes de Performance&lt;/h2&gt;
&lt;p&gt;El objetivo es generar un html con el listado de los informes de performances de los sites que definamos en un archivo json.&lt;/p&gt;
&lt;p&gt;Este será el resultado:&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/653536941da0b3246e5aa77d20489c7d/81fe3/LighthouseReport.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 25.531914893617024%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB3qwoA3//xAAXEAADAQAAAAAAAAAAAAAAAAAAAREC/9oACAEBAAEFAhOi3T//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAABAx/9oACAEBAAY/AlD/xAAYEAEBAQEBAAAAAAAAAAAAAAARAQAhMf/aAAgBAQABPyGyGVeeRwEb/9oADAMBAAIAAwAAABAMH//EABURAQEAAAAAAAAAAAAAAAAAAAEA/9oACAEDAQE/ECQN/8QAFREBAQAAAAAAAAAAAAAAAAAAAQD/2gAIAQIBAT8QYW//xAAZEAEAAwEBAAAAAAAAAAAAAAABABEhgZH/2gAIAQEAAT8QJajNhFSeyKaDs//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/653536941da0b3246e5aa77d20489c7d/eff50/LighthouseReport.webp 158w,
/static/653536941da0b3246e5aa77d20489c7d/46f96/LighthouseReport.webp 315w,
/static/653536941da0b3246e5aa77d20489c7d/8fa24/LighthouseReport.webp 630w,
/static/653536941da0b3246e5aa77d20489c7d/437f1/LighthouseReport.webp 945w,
/static/653536941da0b3246e5aa77d20489c7d/6f2ae/LighthouseReport.webp 1260w,
/static/653536941da0b3246e5aa77d20489c7d/c1151/LighthouseReport.webp 1890w,
/static/653536941da0b3246e5aa77d20489c7d/aa8b5/LighthouseReport.webp 3760w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/653536941da0b3246e5aa77d20489c7d/da84f/LighthouseReport.jpg 158w,
/static/653536941da0b3246e5aa77d20489c7d/f31d6/LighthouseReport.jpg 315w,
/static/653536941da0b3246e5aa77d20489c7d/ddfb8/LighthouseReport.jpg 630w,
/static/653536941da0b3246e5aa77d20489c7d/d198f/LighthouseReport.jpg 945w,
/static/653536941da0b3246e5aa77d20489c7d/63ef2/LighthouseReport.jpg 1260w,
/static/653536941da0b3246e5aa77d20489c7d/5202d/LighthouseReport.jpg 1890w,
/static/653536941da0b3246e5aa77d20489c7d/81fe3/LighthouseReport.jpg 3760w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/653536941da0b3246e5aa77d20489c7d/ddfb8/LighthouseReport.jpg&quot;
          alt=&quot;Lighthouse Report&quot;
          title=&quot;&quot;
          src=&quot;/static/653536941da0b3246e5aa77d20489c7d/ddfb8/LighthouseReport.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;h2&gt;Requisitos&lt;/h2&gt;
&lt;p&gt;Vamos a necesitar tener instalado Node.js, si no lo tenemos instalado en el sistema, podemos seguis las instrucciones de la &lt;a href=&quot;https://nodejs.org&quot;&gt;documentación oficial&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Instalando las dependencias&lt;/h2&gt;
&lt;p&gt;Lo primero que haremos es inicializar &lt;strong&gt;npm&lt;/strong&gt; en nuestra carpeta PerfTools-Lighthouse-Report con &lt;code class=&quot;language-text&quot;&gt;npm init -y&lt;/code&gt; para generar el archivo &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; y poder instalar los paquetes npm que utilizaremos como dependencias.&lt;/p&gt;
&lt;p&gt;Desde la terminal ejecutamos el siguiente comando para instalar las dependencias.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;sh&quot;&gt;&lt;pre class=&quot;language-sh&quot;&gt;&lt;code class=&quot;language-sh&quot;&gt;npm install --save chrome-launcher lighthouse&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En el vídeo también incluimos &lt;code class=&quot;language-text&quot;&gt;puppeteer request util&lt;/code&gt;, ya que la idea era trabajar más a fondo con Puppeteer, pero en esta ocasión lo vamos a obviar para tener un código más limpio y legible.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Package&lt;/th&gt;
&lt;th&gt;Descripción&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;chrome-launcher&lt;/td&gt;
&lt;td&gt;Nos permite lanzar Google Chrome desde Node.js.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lighthouse&lt;/td&gt;
&lt;td&gt;La herramienta que nos generará el informe.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Ahora que hemos instalado las dependencias, vamo a crear el archivo &lt;code class=&quot;language-text&quot;&gt;data.js&lt;/code&gt; que nos servirá para definir las urls de las que queremos conseguis los informes de Web Performance.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  mediamarkt&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://www.mediamarkt.es/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  elcorteingles&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://www.elcorteingles.es/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  zara&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://www.zara.com/es/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  smashingmagazine&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://www.smashingmagazine.com/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  renfe&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;http://www.renfe.com/&apos;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Creando el script&lt;/h2&gt;
&lt;p&gt;Creamos un archivo &lt;code class=&quot;language-text&quot;&gt;report.js&lt;/code&gt; donde lo primero que hacemos es importar todos los módulos que necesitamos.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; chromeLauncher &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;chrome-launcher&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; lighthouse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;lighthouse&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; ReportGenerator &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;lighthouse/lighthouse-core/report/report-generator&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; fs &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;fs&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Seguidos de las variables que utilizaremos en la aplicación.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; sites &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./data&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;./package.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; dir &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./reports&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; links &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En la constante &lt;code class=&quot;language-text&quot;&gt;sites&lt;/code&gt; tendremos los sites de los que queremos generar los informes, en &lt;code class=&quot;language-text&quot;&gt;package&lt;/code&gt; el contenido del fichero &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; para tener acceso a su contenido, en &lt;code class=&quot;language-text&quot;&gt;dir&lt;/code&gt; definimos la carpeta de salida para los informes y por último, definimos &lt;code class=&quot;language-text&quot;&gt;links&lt;/code&gt; como un array donde añadiremos los enlaces a los informes de cada site.&lt;/p&gt;
&lt;p&gt;Con la siguiente condicional, simplemente nos aseguramos que el directorio &lt;code class=&quot;language-text&quot;&gt;reports&lt;/code&gt; existe, sino, lo creamo.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;existsSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dir&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mkdirSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;dir&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Hemos llegado a la parte core del script, la comentaremos por bloques.&lt;/p&gt;
&lt;p&gt;En primer lugar podemos ver que todo el código lo tenemos en una función anónima auto ejecutada.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; id &lt;span class=&quot;token keyword&quot;&gt;of&lt;/span&gt; Object&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;sites&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token constant&quot;&gt;URL&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; sites&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`Testing &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;id&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; on &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token comment&quot;&gt;//...&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;El primer bloque es un &lt;code class=&quot;language-text&quot;&gt;for&lt;/code&gt; para ejecutar nuestro código a cada uno de los sites que hemos definido en &lt;code class=&quot;language-text&quot;&gt;data.js&lt;/code&gt;. En su interior lo primero que tenemos es una constante con la url del site, seguido de un &lt;code class=&quot;language-text&quot;&gt;console.log&lt;/code&gt; para informarnos del proceso.&lt;/p&gt;
&lt;p&gt;Seguimos con otra función anónima autoejecutada, esta función es asíncrona, y con &lt;code class=&quot;language-text&quot;&gt;await&lt;/code&gt; indicamos que queremos que el proceso espere hasta que tenga una respuesta, ya que no tenemos ningún control sobre los tiempos de carga de los sites.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; opts &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    chromeFlags&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;--headless&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    logLevel&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;info&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    onlyCategories&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;performance&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// Launch chrome using chrome-launcher.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; chrome &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; chromeLauncher&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;launch&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;opts&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  opts&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;port &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;port&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lo primero que haremos es utilizar &lt;code class=&quot;language-text&quot;&gt;chromeLauncher&lt;/code&gt; para abrir cada uno de los sites en el navegador. Hemos creado la constante &lt;code class=&quot;language-text&quot;&gt;opts&lt;/code&gt; para definir las opciones de configuración&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Opción&lt;/th&gt;
&lt;th&gt;Descripción&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;chromeFlags: [&amp;#39;--headless&amp;#39;]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Con este flag, Chrome no abrirá una ventana del navegador.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;logLevel: &amp;#39;info&amp;#39;&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Por defecto no se muestra el proceso en la terminal, con &lt;code class=&quot;language-text&quot;&gt;info&lt;/code&gt; veremos información del proceso.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code class=&quot;language-text&quot;&gt;onlyCategories: [&amp;#39;performance&amp;#39;]&lt;/code&gt;&lt;/td&gt;
&lt;td&gt;Esta valor lo utilizaremos en Lighthouse, para indicar que sólo queremos el informe de Performance.&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Llegó la hora de ejecutar Lighthouse.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Run Lighthouse.&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; lhr &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;lighthouse&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token constant&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; opts&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; html &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; ReportGenerator&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;generateReport&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;lhr&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;lhr&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;dir&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;id&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.html`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; html&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`The html file for &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;id&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; was saved!`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  links&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&amp;lt;li&gt;&amp;lt;a href=&quot;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;id&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;.html&quot; target=&quot;_blank&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;id&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;lt;/a&gt;&amp;lt;/li&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;await&lt;/span&gt; chrome&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;kill&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;En la primera línea ejecutamos lighthouse, donde le pasamos 3 argumentos: la url del site a analizar, las opciones, en este caso &lt;code class=&quot;language-text&quot;&gt;onlyCategories: [&amp;#39;performance&amp;#39;]&lt;/code&gt; y por último con el parámetro &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt; le indicamos que no pasamos una configuración, así que utilizaremos la &lt;a href=&quot;https://github.com/GoogleChrome/lighthouse/blob/master/lighthouse-core/config/default-config.js&quot;&gt;configuración por defecto&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;En este punto ya tenemos el resultado de lighthouse en la variable &lt;code class=&quot;language-text&quot;&gt;lhr&lt;/code&gt;, así que en la siguiente línea utilizamos &lt;code class=&quot;language-text&quot;&gt;ReportGenerator.generateReport(lhr.lhr, &amp;#39;html&amp;#39;)&lt;/code&gt; para generar el html que nos permita interpretar mejor todos los datos.&lt;/p&gt;
&lt;p&gt;En el siguiente código utilizamos la API de Node.js &lt;code class=&quot;language-text&quot;&gt;fs&lt;/code&gt; para guardar en un archivo html el resultado. Le pasamos como primer argumento la ruta, como segundo argumento el informe y por último una función callback donde mostramos un mensaje de que se ha guardado el informe y añadimos al array &lt;code class=&quot;language-text&quot;&gt;sites&lt;/code&gt; un elemento &lt;code class=&quot;language-text&quot;&gt;&amp;lt;li&amp;gt;&lt;/code&gt; con un enlace al archivo que acabamos de guardar. En el caso de que lo hubiera, se mostraría un error en la terminal.&lt;/p&gt;
&lt;p&gt;Por último, con &lt;code class=&quot;language-text&quot;&gt;await chrome.kill();&lt;/code&gt; cerramos el proceso de chrome, ya que lo inicializaremos en la siguiente iteración.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; ToC &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&amp;lt;html&gt;
      &amp;lt;head&gt;
        &amp;lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css&quot;&gt;
      &amp;lt;/head&gt;
      &amp;lt;body style=&quot;padding: 2em&quot;&gt;
        &amp;lt;h1 class=&quot;title&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;name&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;lt;/h1&gt;
        &amp;lt;h2 class=&quot;subtitle&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;package&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;description&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;lt;/h2&gt;
        &amp;lt;aside class=&quot;menu&quot;&gt;
          &amp;lt;p class=&quot;menu-label&quot;&gt;PerfReviews&amp;lt;/p&gt;
          &amp;lt;ul class=&quot;menu-list&quot;&gt;&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;links&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&amp;lt;/ul&gt;
        &amp;lt;/aside&gt;
      &amp;lt;/body&gt;
&amp;lt;/html&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

fs&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;writeFile&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;dir&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;/index.html`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; ToC&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;-----------------------------&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos; ToC for sites was saved! 😊 &apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;-----------------------------&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cómo último paso, generamos un ToC (Table of Content) o índice, con los enlaces a los informes. Por la simplicidad del html, no hemos utilizado una librería de plantillas, pero sí hemos importado &lt;a href=&quot;https://bulma.io/&quot;&gt;Bulma&lt;/a&gt; para añadir estilos 😊.&lt;/p&gt;
&lt;p&gt;Y como en el paso anterior, utilizamos &lt;code class=&quot;language-text&quot;&gt;fs&lt;/code&gt; para guardar el archivo &lt;code class=&quot;language-text&quot;&gt;index.html&lt;/code&gt; con los enlaces a todos los informes.&lt;/p&gt;
&lt;h2&gt;Código&lt;/h2&gt;
&lt;p&gt;En el &lt;a href=&quot;https://github.com/PerfReviews/PerfTools/tree/master/Lighthouse-Report&quot;&gt;repositorio&lt;/a&gt; encontrarás todo el código, tanto la versión de este artículo en &lt;code class=&quot;language-text&quot;&gt;report.js&lt;/code&gt; como la versión que comentamos en el vídeo &lt;code class=&quot;language-text&quot;&gt;index.js&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Vídeo&lt;/h2&gt;
&lt;div&gt;
          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://www.youtube.com/embed/1x2A2wZKJPU&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          &lt;/div&gt;</content:encoded></item><item><title><![CDATA[Renfe]]></title><description><![CDATA[Analizamos  la web de Renfe . Una web con poco contenido pero con potenciales mejoras. Veremos estáticos sin minificar, duplicación de…]]></description><link>https://perf.reviews/reviews/1.5-renfe.com/</link><guid isPermaLink="false">https://perf.reviews/reviews/1.5-renfe.com/</guid><pubDate>Tue, 26 Feb 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Analizamos &lt;a href=&quot;https://www.renfe.com&quot;&gt;la web de Renfe&lt;/a&gt;. Una web con poco contenido pero con potenciales mejoras. Veremos estáticos sin minificar, duplicación de assets, combinación de recursos “a mano” y problemas de repintado producidos por librerías de tracking.&lt;/p&gt;
&lt;p&gt;Aquí tienes nuestro análisis:&lt;/p&gt;
&lt;div&gt;
          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://www.youtube.com/embed/pi02YqNHjJs&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          &lt;/div&gt;
&lt;hr&gt;
&lt;div style=&quot;font-size: 0.9em; color: #0c5460;background-color: #ebf5f7;border: 1px solid #bee5eb;padding: .75rem 1.25rem;margin-bottom:calc(1.75rem - 1px);&quot;&gt;
&lt;strong&gt;¿Te gusta nuestro proyecto y quieres trabajar con nosotros?&lt;/strong&gt; &lt;br/&gt; Somos expertos en web performance y ofrecemos formaciones a equipos de desarrollo y auditorías de sitios web.&lt;br/&gt;&lt;a href=&quot;/servicios/&quot;&gt;Más información sobre nuestros servicios&lt;/a&gt;.
&lt;/div&gt;
&lt;h2&gt;Resumen del vídeo&lt;/h2&gt;
&lt;p&gt;En esta review hemos elegido &lt;a href=&quot;https://www.renfe.com&quot;&gt;la web de renfe&lt;/a&gt;. Es una web que históricamente ha recibido críticas por &lt;a href=&quot;http://accesibilidadweb.dlsi.ua.es/?menu=accesibilidad-web-renfe&quot;&gt;sus problemas de accesibilidad&lt;/a&gt;, &lt;a href=&quot;https://www.mastermarketingdigital.com/everriculum/2017/06/10/hands-on-informe-de-usabilidad-renfe-app/&quot;&gt;usabilidad&lt;/a&gt; y &lt;a href=&quot;https://www.elplural.com/politica/twitter-se-ceba-con-los-errores-en-la-web-de-renfe_103904102&quot;&gt;disponibilidad&lt;/a&gt;. Hasta ahora no habíamos visto un análisis de performance de su web, y como esto es lo que nos gusta hacer en Perf Reviews, decidimos ponernos manos a la obra.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB6WOYMpYM/wD/xAAbEAACAQUAAAAAAAAAAAAAAAAAAQMCEBESQ//aAAgBAQABBQKnUUiFIdMW/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHhAAAAQHAAAAAAAAAAAAAAAAAAECkRAREiExcaH/2gAIAQEABj8CnX0XNDjKHBaj/8QAGxAAAgMBAQEAAAAAAAAAAAAAAAERITFBUWH/2gAIAQEAAT8hdJdH8atD2C/Ai51qg8uSITnSF4j/2gAMAwEAAgADAAAAENvf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/ELWP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHRAAAgICAwEAAAAAAAAAAAAAAREAITFBcZGh8f/aAAgBAQABPxAUnGOCDKokzYEIWVABBsHc1wtLWYEyjt4p8Cf/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/f7b498ffaec6807dc72c4f70ac607f69/eff50/img010.webp 158w,
/static/f7b498ffaec6807dc72c4f70ac607f69/46f96/img010.webp 315w,
/static/f7b498ffaec6807dc72c4f70ac607f69/8fa24/img010.webp 630w,
/static/f7b498ffaec6807dc72c4f70ac607f69/437f1/img010.webp 945w,
/static/f7b498ffaec6807dc72c4f70ac607f69/6f2ae/img010.webp 1260w,
/static/f7b498ffaec6807dc72c4f70ac607f69/1208a/img010.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/f7b498ffaec6807dc72c4f70ac607f69/da84f/img010.jpg 158w,
/static/f7b498ffaec6807dc72c4f70ac607f69/f31d6/img010.jpg 315w,
/static/f7b498ffaec6807dc72c4f70ac607f69/ddfb8/img010.jpg 630w,
/static/f7b498ffaec6807dc72c4f70ac607f69/d198f/img010.jpg 945w,
/static/f7b498ffaec6807dc72c4f70ac607f69/63ef2/img010.jpg 1260w,
/static/f7b498ffaec6807dc72c4f70ac607f69/7edc3/img010.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/f7b498ffaec6807dc72c4f70ac607f69/ddfb8/img010.jpg&quot;
          alt=&quot;La web de Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/f7b498ffaec6807dc72c4f70ac607f69/ddfb8/img010.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Decidimos hacer la revisión aprovechando el anuncio de que van a hacer ciertas mejoras en su web. Hay varias noticias al respecto sobre el cambio que van a hacer &lt;a href=&quot;https://www.xataka.com/empresas-y-economia/que-700-000-euros-presupuesto-ridiculo-para-arreglar-web-renfe&quot;&gt;e incluso el presupuesto&lt;/a&gt;. Hay gente que le asusta esas cantidades y hay otros que dicen que no trabajarían en esa web por ese importe. Nosotros nos queremos centrar en hacer una revisión del rendimiento.&lt;/p&gt;
&lt;h3&gt;Informes de Lighthouse, WebPageTest, Cloudinary y CSS Stats&lt;/h3&gt;
&lt;p&gt;Como suele ser habitual hacemos una primera pasada usando de &lt;a href=&quot;https://web.dev&quot;&gt;web.dev&lt;/a&gt;. A nivel de performance la puntuación es muy muy baja.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe6rAof/xAAXEAADAQAAAAAAAAAAAAAAAAAAESAh/9oACAEBAAEFAkYKP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABkQAAIDAQAAAAAAAAAAAAAAAAARARBRMf/aAAgBAQABPyFcEFwnl//aAAwDAQACAAMAAAAQkA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgIDAAAAAAAAAAAAAAABAJEQETFBYf/aAAgBAQABPxB6RUGdaKnioxcJj//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/00605eea620a1e2bad657b687bfec0c7/eff50/img024.webp 158w,
/static/00605eea620a1e2bad657b687bfec0c7/46f96/img024.webp 315w,
/static/00605eea620a1e2bad657b687bfec0c7/8fa24/img024.webp 630w,
/static/00605eea620a1e2bad657b687bfec0c7/437f1/img024.webp 945w,
/static/00605eea620a1e2bad657b687bfec0c7/6f2ae/img024.webp 1260w,
/static/00605eea620a1e2bad657b687bfec0c7/1208a/img024.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/00605eea620a1e2bad657b687bfec0c7/da84f/img024.jpg 158w,
/static/00605eea620a1e2bad657b687bfec0c7/f31d6/img024.jpg 315w,
/static/00605eea620a1e2bad657b687bfec0c7/ddfb8/img024.jpg 630w,
/static/00605eea620a1e2bad657b687bfec0c7/d198f/img024.jpg 945w,
/static/00605eea620a1e2bad657b687bfec0c7/63ef2/img024.jpg 1260w,
/static/00605eea620a1e2bad657b687bfec0c7/7edc3/img024.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/00605eea620a1e2bad657b687bfec0c7/ddfb8/img024.jpg&quot;
          alt=&quot;Lighthouse para la web de Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/00605eea620a1e2bad657b687bfec0c7/ddfb8/img024.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Los tiempos de First Contentful Paint se disparan a 8 segundos, el número de recursos que están solicitando, la forma en que está estructurado ese HTML para pedir esos recursos se pueden mejorar. En WebPageTest la parte negativa es principalmente el cacheo.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUG/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAFVjWkzI3f/xAAbEAABBAMAAAAAAAAAAAAAAAADAAECMwQFFP/aAAgBAQABBQLCJMhSV9BVr7i1Dizx/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATV//8QAGhAAAwADAQAAAAAAAAAAAAAAAAECITFyM//aAAgBAQAGPwJqqbwU09I9GVyXyzJ//8QAHBABAAICAwEAAAAAAAAAAAAAAQARIfAQUWFx/9oACAEBAAE/ISFhfP2FK4qlcLsezQdS/C8z/9oADAMBAAIAAwAAABCMD//EABYRAAMAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAwEBPxARf//EABYRAQEBAAAAAAAAAAAAAAAAAAAhQf/aAAgBAgEBPxDBH//EABsQAQEBAAMBAQAAAAAAAAAAAAERAEFhwaGx/9oACAEBAAE/EEs8BCWOs2liRwPWI+pvufjEvC+zIqxFqcG//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/be073cdb133b89f0ff419945f2e7f22f/eff50/img034.webp 158w,
/static/be073cdb133b89f0ff419945f2e7f22f/46f96/img034.webp 315w,
/static/be073cdb133b89f0ff419945f2e7f22f/8fa24/img034.webp 630w,
/static/be073cdb133b89f0ff419945f2e7f22f/437f1/img034.webp 945w,
/static/be073cdb133b89f0ff419945f2e7f22f/6f2ae/img034.webp 1260w,
/static/be073cdb133b89f0ff419945f2e7f22f/1208a/img034.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/be073cdb133b89f0ff419945f2e7f22f/da84f/img034.jpg 158w,
/static/be073cdb133b89f0ff419945f2e7f22f/f31d6/img034.jpg 315w,
/static/be073cdb133b89f0ff419945f2e7f22f/ddfb8/img034.jpg 630w,
/static/be073cdb133b89f0ff419945f2e7f22f/d198f/img034.jpg 945w,
/static/be073cdb133b89f0ff419945f2e7f22f/63ef2/img034.jpg 1260w,
/static/be073cdb133b89f0ff419945f2e7f22f/7edc3/img034.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/be073cdb133b89f0ff419945f2e7f22f/ddfb8/img034.jpg&quot;
          alt=&quot;WebPageTest para la web de Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/be073cdb133b89f0ff419945f2e7f22f/ddfb8/img034.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;La web de Renfe en escritorio es relativamente rápida. Tampoco tiene mucho contenido: el formulario de venta, un slider, unas pocas imágenes y un menú. La home es relativamente ligera para un análisis de performance pero sí es verdad que en cuanto a la estructura y la arquitectura que tienen en el html y en las peticiones de los recursos veremos que hay bastantes puntos de mejora.&lt;/p&gt;
&lt;p&gt;Las imágenes están bien, aunque se puede aumentar su compresión bastante manteniendo el formato JPG.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHupSsk/8QAGBAAAgMAAAAAAAAAAAAAAAAAABEBECH/2gAIAQEAAQUCRgoHf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABoQAQEAAgMAAAAAAAAAAAAAAAEAESFRYZH/2gAIAQEAAT8hRwTgbDy6CVG7Lf/aAAwDAQACAAMAAAAQg9//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAADAAIDAAAAAAAAAAAAAAAAAREhUWGR0f/aAAgBAQABPxBN1dQ1iiFPI2Boycx//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/c09ed70a64a8027c7fdcb493c693a897/eff50/img044.webp 158w,
/static/c09ed70a64a8027c7fdcb493c693a897/46f96/img044.webp 315w,
/static/c09ed70a64a8027c7fdcb493c693a897/8fa24/img044.webp 630w,
/static/c09ed70a64a8027c7fdcb493c693a897/437f1/img044.webp 945w,
/static/c09ed70a64a8027c7fdcb493c693a897/6f2ae/img044.webp 1260w,
/static/c09ed70a64a8027c7fdcb493c693a897/1208a/img044.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/c09ed70a64a8027c7fdcb493c693a897/da84f/img044.jpg 158w,
/static/c09ed70a64a8027c7fdcb493c693a897/f31d6/img044.jpg 315w,
/static/c09ed70a64a8027c7fdcb493c693a897/ddfb8/img044.jpg 630w,
/static/c09ed70a64a8027c7fdcb493c693a897/d198f/img044.jpg 945w,
/static/c09ed70a64a8027c7fdcb493c693a897/63ef2/img044.jpg 1260w,
/static/c09ed70a64a8027c7fdcb493c693a897/7edc3/img044.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/c09ed70a64a8027c7fdcb493c693a897/ddfb8/img044.jpg&quot;
          alt=&quot;Cloudinary para la web de Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/c09ed70a64a8027c7fdcb493c693a897/ddfb8/img044.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;La mayoría de imágenes se están sirviendo al tamaño  adecuado. Hay varias imágenes como el logo de Renfe y varios iconos que podrían convertirse a SVG. En móvil las imágenes del slider se cortan.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB1GFHIqSH/8QAGRAAAwADAAAAAAAAAAAAAAAAAQIQAxIz/9oACAEBAAEFAnOrGZek/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFxAAAwEAAAAAAAAAAAAAAAAAARAxkf/aAAgBAQAGPwKjGH//xAAZEAEBAAMBAAAAAAAAAAAAAAABABEhMaH/2gAIAQEAAT8hcQDXHPMAgI+E9hb/2gAMAwEAAgADAAAAEK//AP/EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAgBAwEBPxDYj//EABcRAAMBAAAAAAAAAAAAAAAAAAABEUH/2gAIAQIBAT8QV0p//8QAGxABAQEBAAMBAAAAAAAAAAAAAREAMVFxkaH/2gAIAQEAAT8QMOw0unyJMoQ/Mo4fMarbB325N6Lu/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/6462a414723b141d075334b422b35927/eff50/img060.webp 158w,
/static/6462a414723b141d075334b422b35927/46f96/img060.webp 315w,
/static/6462a414723b141d075334b422b35927/8fa24/img060.webp 630w,
/static/6462a414723b141d075334b422b35927/437f1/img060.webp 945w,
/static/6462a414723b141d075334b422b35927/6f2ae/img060.webp 1260w,
/static/6462a414723b141d075334b422b35927/1208a/img060.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/6462a414723b141d075334b422b35927/da84f/img060.jpg 158w,
/static/6462a414723b141d075334b422b35927/f31d6/img060.jpg 315w,
/static/6462a414723b141d075334b422b35927/ddfb8/img060.jpg 630w,
/static/6462a414723b141d075334b422b35927/d198f/img060.jpg 945w,
/static/6462a414723b141d075334b422b35927/63ef2/img060.jpg 1260w,
/static/6462a414723b141d075334b422b35927/7edc3/img060.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/6462a414723b141d075334b422b35927/ddfb8/img060.jpg&quot;
          alt=&quot;Imágenes que se cortan en móvil en la web de Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/6462a414723b141d075334b422b35927/ddfb8/img060.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Son imágenes de 1600 píxeles de ancho y están maquetadas para que la parte central de la imagen sea la que tiene el contenido con el texto. Aquí estaría bien que utilizasen responsive images para servir imágenes que se adapten al dispositivo y no hacer peticiones a imágenes de gran tamaño. Además, las imágenes se referencian en el HTML, lo que no permite hacer lazy loading, solicitando todas las imágenes al cargar la página.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAgAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3JEUo//EABYQAQEBAAAAAAAAAAAAAAAAABEQIP/aAAgBAQABBQIhj//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABsQAQACAgMAAAAAAAAAAAAAAAEAERCRMVGB/9oACAEBAAE/IUWUGp4alOiPJn//2gAMAwEAAgADAAAAEIMP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHxAAAgAFBQAAAAAAAAAAAAAAAAEQETFB8CFRgcHx/9oACAEBAAE/EFKzmEneVx7PGH0sqhWzaH//2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/8a6ac9d9240dac27c35cc4bab5f15c44/eff50/img077.webp 158w,
/static/8a6ac9d9240dac27c35cc4bab5f15c44/46f96/img077.webp 315w,
/static/8a6ac9d9240dac27c35cc4bab5f15c44/8fa24/img077.webp 630w,
/static/8a6ac9d9240dac27c35cc4bab5f15c44/437f1/img077.webp 945w,
/static/8a6ac9d9240dac27c35cc4bab5f15c44/6f2ae/img077.webp 1260w,
/static/8a6ac9d9240dac27c35cc4bab5f15c44/1208a/img077.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/8a6ac9d9240dac27c35cc4bab5f15c44/da84f/img077.jpg 158w,
/static/8a6ac9d9240dac27c35cc4bab5f15c44/f31d6/img077.jpg 315w,
/static/8a6ac9d9240dac27c35cc4bab5f15c44/ddfb8/img077.jpg 630w,
/static/8a6ac9d9240dac27c35cc4bab5f15c44/d198f/img077.jpg 945w,
/static/8a6ac9d9240dac27c35cc4bab5f15c44/63ef2/img077.jpg 1260w,
/static/8a6ac9d9240dac27c35cc4bab5f15c44/7edc3/img077.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/8a6ac9d9240dac27c35cc4bab5f15c44/ddfb8/img077.jpg&quot;
          alt=&quot;CSS Stats para la web de Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/8a6ac9d9240dac27c35cc4bab5f15c44/ddfb8/img077.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;El estado del CSS es relativamente positivo. Tiene una especificidad en forma de sierra, lo que se puede interpretar como que conforme va pasando el tiempo se han ido añadiendo selectores más específicos para sobreescribir lo anterior. Más adelante explicaremos algunos CSS que se sirven sin minificar.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB3Cq6OEi//8QAGxAAAgEFAAAAAAAAAAAAAAAAABEBAgMQEyH/2gAIAQEAAQUCXRFyGa6Zx//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAAQAREhQZH/2gAIAQEABj8CNKDN9X//xAAbEAACAgMBAAAAAAAAAAAAAAABEQAhQVGBEP/aAAgBAQABPyE1IBZiOliaEBY+FQ5J35//2gAMAwEAAgADAAAAEI/P/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAIhAAAgEBCAMAAAAAAAAAAAAAAREAITFRYXGBobHB0eHx/9oACAEBAAE/EKxRiiyXcITZ3Dp72nxoAYKJIbwMXABY+WKf/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ab431eca9c7702f68f0790858bb7d72e/eff50/img084.webp 158w,
/static/ab431eca9c7702f68f0790858bb7d72e/46f96/img084.webp 315w,
/static/ab431eca9c7702f68f0790858bb7d72e/8fa24/img084.webp 630w,
/static/ab431eca9c7702f68f0790858bb7d72e/437f1/img084.webp 945w,
/static/ab431eca9c7702f68f0790858bb7d72e/6f2ae/img084.webp 1260w,
/static/ab431eca9c7702f68f0790858bb7d72e/1208a/img084.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ab431eca9c7702f68f0790858bb7d72e/da84f/img084.jpg 158w,
/static/ab431eca9c7702f68f0790858bb7d72e/f31d6/img084.jpg 315w,
/static/ab431eca9c7702f68f0790858bb7d72e/ddfb8/img084.jpg 630w,
/static/ab431eca9c7702f68f0790858bb7d72e/d198f/img084.jpg 945w,
/static/ab431eca9c7702f68f0790858bb7d72e/63ef2/img084.jpg 1260w,
/static/ab431eca9c7702f68f0790858bb7d72e/7edc3/img084.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ab431eca9c7702f68f0790858bb7d72e/ddfb8/img084.jpg&quot;
          alt=&quot;CSS Stats para la web de Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/ab431eca9c7702f68f0790858bb7d72e/ddfb8/img084.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;h3&gt;Redirecciones y falta de SSL&lt;/h3&gt;
&lt;p&gt;Una de las cosas que llama la atención en Renfe es que el dominio no hace una redirección uniforme. Renfe.es no funciona, pero www.renfe.es sí, redirigiendo a renfe.com. La página principal no se sirve usando HTTPS. Este es un punto de mejora, ya que aparte de mejorar la seguridad e integridad de los datos permite implementar una serie de mejoras como service workers o http/2 que sólo funcionan sobre HTTPS.&lt;/p&gt;
&lt;p&gt;La web de venta a la que el usuario llega después de elegir origen y destino sí soporta HTTPS.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAABBv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFbToXnrJP/xAAbEAACAgMBAAAAAAAAAAAAAAABAgMFABEzI//aAAgBAQABBQKFHMKqQLHvAfDeWHf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGn/8QAHRAAAgIBBQAAAAAAAAAAAAAAAAEDciECEBESUf/aAAgBAQAGPwLQ1Lxjwy+wqkddlU//xAAdEAADAAEFAQAAAAAAAAAAAAAAARGxITFBcYGh/9oACAEBAAE/IXyEaxcNCTuu58bLGeQoa9DLP//aAAwDAQACAAMAAAAQhw//xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QVTJ//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxAf/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIVExYYGh/9oACAEBAAE/EFIdiXgxcvbtZlY1RKBBIOA+PUN/yMtgf//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/cc318e2da1f64dc27ba5d3ff27c75fa1/eff50/img110.webp 158w,
/static/cc318e2da1f64dc27ba5d3ff27c75fa1/46f96/img110.webp 315w,
/static/cc318e2da1f64dc27ba5d3ff27c75fa1/8fa24/img110.webp 630w,
/static/cc318e2da1f64dc27ba5d3ff27c75fa1/437f1/img110.webp 945w,
/static/cc318e2da1f64dc27ba5d3ff27c75fa1/6f2ae/img110.webp 1260w,
/static/cc318e2da1f64dc27ba5d3ff27c75fa1/1208a/img110.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/cc318e2da1f64dc27ba5d3ff27c75fa1/da84f/img110.jpg 158w,
/static/cc318e2da1f64dc27ba5d3ff27c75fa1/f31d6/img110.jpg 315w,
/static/cc318e2da1f64dc27ba5d3ff27c75fa1/ddfb8/img110.jpg 630w,
/static/cc318e2da1f64dc27ba5d3ff27c75fa1/d198f/img110.jpg 945w,
/static/cc318e2da1f64dc27ba5d3ff27c75fa1/63ef2/img110.jpg 1260w,
/static/cc318e2da1f64dc27ba5d3ff27c75fa1/7edc3/img110.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/cc318e2da1f64dc27ba5d3ff27c75fa1/ddfb8/img110.jpg&quot;
          alt=&quot;Soporte de HTTPS en venta.renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/cc318e2da1f64dc27ba5d3ff27c75fa1/ddfb8/img110.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;h3&gt;Falta de minificación y combinación&lt;/h3&gt;
&lt;p&gt;Si analizamos los estáticos vamos a ver que hay CSS y JS sin minificar.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAG/8QAFAEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABa4LhzlSf/8QAHRAAAAUFAAAAAAAAAAAAAAAAAAECBTQDBBETI//aAAgBAQABBQK1TywHGRRQnQQcZH//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwFn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAQUBAQAAAAAAAAAAAAAAAQAQITFyAgP/2gAIAQEABj8C5M0wyvOLAYZX/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERITGxQXGh/9oACAEBAAE/IWtt4ousClBXobYsyMyjgeRtn//aAAwDAQACAAMAAAAQCA//xAAVEQEBAAAAAAAAAAAAAAAAAAAQIf/aAAgBAwEBPxCj/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/EBF//8QAHBABAQEAAQUAAAAAAAAAAAAAAREAITFBYXGR/9oACAEBAAE/EA/pMpR4dNJUvrACaCiCCO7M0+tz3H//2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/659d3e710974cf7471ab3738594a33f7/eff50/img120.webp 158w,
/static/659d3e710974cf7471ab3738594a33f7/46f96/img120.webp 315w,
/static/659d3e710974cf7471ab3738594a33f7/8fa24/img120.webp 630w,
/static/659d3e710974cf7471ab3738594a33f7/437f1/img120.webp 945w,
/static/659d3e710974cf7471ab3738594a33f7/6f2ae/img120.webp 1260w,
/static/659d3e710974cf7471ab3738594a33f7/1208a/img120.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/659d3e710974cf7471ab3738594a33f7/da84f/img120.jpg 158w,
/static/659d3e710974cf7471ab3738594a33f7/f31d6/img120.jpg 315w,
/static/659d3e710974cf7471ab3738594a33f7/ddfb8/img120.jpg 630w,
/static/659d3e710974cf7471ab3738594a33f7/d198f/img120.jpg 945w,
/static/659d3e710974cf7471ab3738594a33f7/63ef2/img120.jpg 1260w,
/static/659d3e710974cf7471ab3738594a33f7/7edc3/img120.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/659d3e710974cf7471ab3738594a33f7/ddfb8/img120.jpg&quot;
          alt=&quot;CSS sin minificar en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/659d3e710974cf7471ab3738594a33f7/ddfb8/img120.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Librerías como jQuery y jQuery UI por lo menos sí lo están. Hay ficheros que son el resultante de una combinación “a mano” de 2 estáticos.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBBQb/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABsG0XIzpBX//EAB0QAAECBwAAAAAAAAAAAAAAAAIABQMEERMjMzT/2gAIAQEAAQUClww0Tj0QQGwnDf8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAQUBAQAAAAAAAAAAAAAAAQADECFyMTL/2gAIAQEABj8CbN+YGU3XQIGV/8QAHBAAAgICAwAAAAAAAAAAAAAAAAERITGxQXGh/9oACAEBAAE/IVWcXNYFJFOhtk4hMowqPM2z/9oADAMBAAIAAwAAABAfz//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/EGf/xAAWEQEBAQAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8QHZ//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhQTGBkf/aAAgBAQABPxBAbraW9HEAHcNHygUJII21DCYR3fI//9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/f0ce2bd479821a0ac39b541861d9c1ff/eff50/img127.webp 158w,
/static/f0ce2bd479821a0ac39b541861d9c1ff/46f96/img127.webp 315w,
/static/f0ce2bd479821a0ac39b541861d9c1ff/8fa24/img127.webp 630w,
/static/f0ce2bd479821a0ac39b541861d9c1ff/437f1/img127.webp 945w,
/static/f0ce2bd479821a0ac39b541861d9c1ff/6f2ae/img127.webp 1260w,
/static/f0ce2bd479821a0ac39b541861d9c1ff/1208a/img127.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/f0ce2bd479821a0ac39b541861d9c1ff/da84f/img127.jpg 158w,
/static/f0ce2bd479821a0ac39b541861d9c1ff/f31d6/img127.jpg 315w,
/static/f0ce2bd479821a0ac39b541861d9c1ff/ddfb8/img127.jpg 630w,
/static/f0ce2bd479821a0ac39b541861d9c1ff/d198f/img127.jpg 945w,
/static/f0ce2bd479821a0ac39b541861d9c1ff/63ef2/img127.jpg 1260w,
/static/f0ce2bd479821a0ac39b541861d9c1ff/7edc3/img127.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/f0ce2bd479821a0ac39b541861d9c1ff/ddfb8/img127.jpg&quot;
          alt=&quot;Combinación de JS a mano en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/f0ce2bd479821a0ac39b541861d9c1ff/ddfb8/img127.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;En general la gestión de estáticos de la web de Renfe parece que se ha congelado en el tiempo, pero bastante atrás en el tiempo. No usan ningún tipo de herramientas para minificar o para combinar los estáticos y los ficheros se han ido añadiendo al HTML sin mucho cuidado.&lt;/p&gt;
&lt;p&gt;Se solicitan 4 recursos CSS sin combinar, y hace que el navegador tenga que esperar a que se descarguen para poder empezar a pintar.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQFBv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGrQlsXmgn/xAAbEAABBAMAAAAAAAAAAAAAAAABAAQFMwIDE//aAAgBAQABBQJoDyAUje2xA0hSN/8A/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8BZ//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABsQAAEFAQEAAAAAAAAAAAAAAAEAAhARMXIh/9oACAEBAAY/ArN55A5TCBrYHK//xAAbEAACAgMBAAAAAAAAAAAAAAABEQAQIaGxUf/aAAgBAQABPyFeVEy8p03TE0CB003TP//aAAwDAQACAAMAAAAQ8A//xAAWEQEBAQAAAAAAAAAAAAAAAAABERD/2gAIAQMBAT8QVbn/xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQIBAT8QHJ//xAAaEAEAAwADAAAAAAAAAAAAAAABABEhEDFB/9oACAEBAAE/EErtErCh0QHW8mMKkFoVs9wgC64Ef//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/8d188d2059a8a91fc1e9a9e263c56e97/eff50/img136.webp 158w,
/static/8d188d2059a8a91fc1e9a9e263c56e97/46f96/img136.webp 315w,
/static/8d188d2059a8a91fc1e9a9e263c56e97/8fa24/img136.webp 630w,
/static/8d188d2059a8a91fc1e9a9e263c56e97/437f1/img136.webp 945w,
/static/8d188d2059a8a91fc1e9a9e263c56e97/6f2ae/img136.webp 1260w,
/static/8d188d2059a8a91fc1e9a9e263c56e97/1208a/img136.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/8d188d2059a8a91fc1e9a9e263c56e97/da84f/img136.jpg 158w,
/static/8d188d2059a8a91fc1e9a9e263c56e97/f31d6/img136.jpg 315w,
/static/8d188d2059a8a91fc1e9a9e263c56e97/ddfb8/img136.jpg 630w,
/static/8d188d2059a8a91fc1e9a9e263c56e97/d198f/img136.jpg 945w,
/static/8d188d2059a8a91fc1e9a9e263c56e97/63ef2/img136.jpg 1260w,
/static/8d188d2059a8a91fc1e9a9e263c56e97/7edc3/img136.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/8d188d2059a8a91fc1e9a9e263c56e97/ddfb8/img136.jpg&quot;
          alt=&quot;Múltiples CSS bloqueantes en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/8d188d2059a8a91fc1e9a9e263c56e97/ddfb8/img136.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Encima, justo después del CSS se piden recursos JS, con lo que el navegador no va a poder empezar a renderizar nada porque la request al JS va a bloquear el renderizado del contenido que está en el body. Son una serie de recursos que se están añadiendo en el critical path que va a hacer que nuestro contenido tarde mucho en cargar.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAG/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABa8bDNVH/xAAbEAABBAMAAAAAAAAAAAAAAAABAAQFMwIDI//aAAgBAQABBQJqOIUje2xA0qRv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAQUBAAAAAAAAAAAAAAAAAQACEDFyIf/aAAgBAQAGPwJp7UDKYQLbAyv/xAAbEAACAgMBAAAAAAAAAAAAAAAAAREhQaGxUf/aAAgBAQABPyG04Uk3RDw03WQ0GiRGm6z/2gAMAwEAAgADAAAAELQP/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QZ//EABURAQEAAAAAAAAAAAAAAAAAABEQ/9oACAECAQE/EFn/xAAaEAEAAgMBAAAAAAAAAAAAAAABABEQIUFR/9oACAEBAAE/EGvrrCaUbCFDfHk00VIDQrR1ohBwI//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/bd328778ec544d354da0d9244c4bc7ff/eff50/img143.webp 158w,
/static/bd328778ec544d354da0d9244c4bc7ff/46f96/img143.webp 315w,
/static/bd328778ec544d354da0d9244c4bc7ff/8fa24/img143.webp 630w,
/static/bd328778ec544d354da0d9244c4bc7ff/437f1/img143.webp 945w,
/static/bd328778ec544d354da0d9244c4bc7ff/6f2ae/img143.webp 1260w,
/static/bd328778ec544d354da0d9244c4bc7ff/1208a/img143.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/bd328778ec544d354da0d9244c4bc7ff/da84f/img143.jpg 158w,
/static/bd328778ec544d354da0d9244c4bc7ff/f31d6/img143.jpg 315w,
/static/bd328778ec544d354da0d9244c4bc7ff/ddfb8/img143.jpg 630w,
/static/bd328778ec544d354da0d9244c4bc7ff/d198f/img143.jpg 945w,
/static/bd328778ec544d354da0d9244c4bc7ff/63ef2/img143.jpg 1260w,
/static/bd328778ec544d354da0d9244c4bc7ff/7edc3/img143.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/bd328778ec544d354da0d9244c4bc7ff/ddfb8/img143.jpg&quot;
          alt=&quot;JS bloqueantes justo después del CSS en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/bd328778ec544d354da0d9244c4bc7ff/ddfb8/img143.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;h3&gt;Código condicional&lt;/h3&gt;
&lt;p&gt;Hay detalles como por ejemplo el awesomplete.css que parece ser que sólo se aplica a Safari, o esa era la idea que tenían, y también hay un awesomplete.min.js que es la parte de JS de &lt;a href=&quot;https://leaverou.github.io/awesomplete/&quot;&gt;esa librería&lt;/a&gt;, que es un auto completado que desarrolló &lt;a href=&quot;https://twitter.com/leaverou&quot;&gt;Lea Verou&lt;/a&gt;. Si lo estaban sirviendo sólo para Safari, una buena solución es comprobar el navegador que está haciendo la petición. Aunque tampoco hay que abogar mucho por hacer la detección de user agent en el lado del servidor y deberíamos usar feature detection en el lado del cliente.&lt;/p&gt;
&lt;h3&gt;Código comentado&lt;/h3&gt;
&lt;p&gt;Hay mucho código comentado en el CSS y en JS. A veces parece que no hay ni siquiera una herramienta de control de versiones del código fuente.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQFBv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHQsisjnBX/xAAcEAAABgMAAAAAAAAAAAAAAAAAAQIEBTQDESP/2gAIAQEAAQUCbp46EjYbpIsIkbH/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAdEAABAwUBAAAAAAAAAAAAAAABABByAgMRITEy/9oACAEBAAY/ArZ35YRVBx0MIr//xAAcEAACAgIDAAAAAAAAAAAAAAAAAREhMbFRcaH/2gAIAQEAAT8hVySZdEJwV6G2JlBpkmzyNs//2gAMAwEAAgADAAAAEBgP/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQMBAT8QZ//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/EKf/xAAZEAEAAwEBAAAAAAAAAAAAAAABABExEEH/2gAIAQEAAT8QJYSVEcGELAqACEg7StHrRLceP//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ddd6441a4232aed60d3ff952cfac1f65/eff50/img153.webp 158w,
/static/ddd6441a4232aed60d3ff952cfac1f65/46f96/img153.webp 315w,
/static/ddd6441a4232aed60d3ff952cfac1f65/8fa24/img153.webp 630w,
/static/ddd6441a4232aed60d3ff952cfac1f65/437f1/img153.webp 945w,
/static/ddd6441a4232aed60d3ff952cfac1f65/6f2ae/img153.webp 1260w,
/static/ddd6441a4232aed60d3ff952cfac1f65/1208a/img153.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ddd6441a4232aed60d3ff952cfac1f65/da84f/img153.jpg 158w,
/static/ddd6441a4232aed60d3ff952cfac1f65/f31d6/img153.jpg 315w,
/static/ddd6441a4232aed60d3ff952cfac1f65/ddfb8/img153.jpg 630w,
/static/ddd6441a4232aed60d3ff952cfac1f65/d198f/img153.jpg 945w,
/static/ddd6441a4232aed60d3ff952cfac1f65/63ef2/img153.jpg 1260w,
/static/ddd6441a4232aed60d3ff952cfac1f65/7edc3/img153.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ddd6441a4232aed60d3ff952cfac1f65/ddfb8/img153.jpg&quot;
          alt=&quot;Código comentado en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/ddd6441a4232aed60d3ff952cfac1f65/ddfb8/img153.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;En otro fichero se lee “todo esto tampoco va” seguido de un código comentado.  Este código se puede eliminar y dejar de servirlo al navegador.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAG/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAWuG6M1VX//EABwQAAEDBQAAAAAAAAAAAAAAAAEEBTQAAgMjQf/aAAgBAQABBQJKNXXGQntAw04yP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAEFAQAAAAAAAAAAAAAAAAEAAhAxciH/2gAIAQEABj8Cae1AymECxAyv/8QAGxABAAICAwAAAAAAAAAAAAAAAQARIbExcaH/2gAIAQEAAT8hW3yIW4lEY9DbK5CNwnkbZ//aAAwDAQACAAMAAAAQrA//xAAWEQADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQMBAT8QNX//xAAWEQADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQIBAT8QEX//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMUFh/9oACAEBAAE/EOXQRGlHCFwc+QAQokB8Vo9aIsm5x//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/52db9eba31965d9abd546ef1a08bd9d7/eff50/img160.webp 158w,
/static/52db9eba31965d9abd546ef1a08bd9d7/46f96/img160.webp 315w,
/static/52db9eba31965d9abd546ef1a08bd9d7/8fa24/img160.webp 630w,
/static/52db9eba31965d9abd546ef1a08bd9d7/437f1/img160.webp 945w,
/static/52db9eba31965d9abd546ef1a08bd9d7/6f2ae/img160.webp 1260w,
/static/52db9eba31965d9abd546ef1a08bd9d7/1208a/img160.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/52db9eba31965d9abd546ef1a08bd9d7/da84f/img160.jpg 158w,
/static/52db9eba31965d9abd546ef1a08bd9d7/f31d6/img160.jpg 315w,
/static/52db9eba31965d9abd546ef1a08bd9d7/ddfb8/img160.jpg 630w,
/static/52db9eba31965d9abd546ef1a08bd9d7/d198f/img160.jpg 945w,
/static/52db9eba31965d9abd546ef1a08bd9d7/63ef2/img160.jpg 1260w,
/static/52db9eba31965d9abd546ef1a08bd9d7/7edc3/img160.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/52db9eba31965d9abd546ef1a08bd9d7/ddfb8/img160.jpg&quot;
          alt=&quot;Código comentado en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/52db9eba31965d9abd546ef1a08bd9d7/ddfb8/img160.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Hay también comentarios que son un pseudo changelog, con las fechas en las que se han hecho cambios en los ficheros. Esta información debería ir a un control de versiones.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBBQb/xAAUAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFqxTdHNEif/8QAGxAAAQQDAAAAAAAAAAAAAAAAAQAEBTQCAxP/2gAIAQEAAQUCaA81I2G+IGlSNj//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPwFn/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxABAAICAwAAAAAAAAAAAAAAAQACEHIRMWH/2gAIAQEABj8CF58wayiHdcGs/8QAHBAAAwABBQAAAAAAAAAAAAAAAAERsSExYXGh/9oACAEBAAE/IbZiJVtITg09LLJaGiiR5GWf/9oADAMBAAIAAwAAABC7D//EABYRAQEBAAAAAAAAAAAAAAAAAAEREP/aAAgBAwEBPxBVuf/EABYRAAMAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxARf//EABsQAQACAgMAAAAAAAAAAAAAAAEAERBBITGR/9oACAEBAAE/EHrqNWh0QNvD2AAEgSilG2iFV0Xjx//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/a53dbb5c7ba791f07916f968cabf059a/eff50/img170.webp 158w,
/static/a53dbb5c7ba791f07916f968cabf059a/46f96/img170.webp 315w,
/static/a53dbb5c7ba791f07916f968cabf059a/8fa24/img170.webp 630w,
/static/a53dbb5c7ba791f07916f968cabf059a/437f1/img170.webp 945w,
/static/a53dbb5c7ba791f07916f968cabf059a/6f2ae/img170.webp 1260w,
/static/a53dbb5c7ba791f07916f968cabf059a/1208a/img170.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/a53dbb5c7ba791f07916f968cabf059a/da84f/img170.jpg 158w,
/static/a53dbb5c7ba791f07916f968cabf059a/f31d6/img170.jpg 315w,
/static/a53dbb5c7ba791f07916f968cabf059a/ddfb8/img170.jpg 630w,
/static/a53dbb5c7ba791f07916f968cabf059a/d198f/img170.jpg 945w,
/static/a53dbb5c7ba791f07916f968cabf059a/63ef2/img170.jpg 1260w,
/static/a53dbb5c7ba791f07916f968cabf059a/7edc3/img170.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/a53dbb5c7ba791f07916f968cabf059a/ddfb8/img170.jpg&quot;
          alt=&quot;Código comentado en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/a53dbb5c7ba791f07916f968cabf059a/ddfb8/img170.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;h3&gt;Potenciales mejoras al servir los estáticos&lt;/h3&gt;
&lt;p&gt;Los estáticos JS podrían cargarse de forma asíncrona al final del body. No se utiliza CDN y se piden muchos recursos al mismo dominio, lo que combinado con no usar http/2 hace aumentar el tiempo de carga.&lt;/p&gt;
&lt;p&gt;El tiempo de cacheo es muy corto. En algunos casos, como en las fuentes woff2, de 1 segundo. Además, combinado con ETags hace que siempre sea necesaria hacer una petición al navegador para recursos que podrían ser versionados y cacheados durante un periodo largo.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBBQb/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGwbScM6QH/xAAcEAABAwUAAAAAAAAAAAAAAAABAAQFAhMjMzT/2gAIAQEAAQUCb04QFI9DcC0pHf8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAQQDAAAAAAAAAAAAAAAAAQACEHIDITL/2gAIAQEABj8CxnfMCqZUQKr/xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhsVFx/9oACAEBAAE/ISLOhi5AZmjx1gFAkLc18nWf/9oADAMBAAIAAwAAABBUD//EABYRAQEBAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCsf//EABURAQEAAAAAAAAAAAAAAAAAABEA/9oACAECAQE/EFm//8QAGRABAQADAQAAAAAAAAAAAAAAAQARITFB/9oACAEBAAE/EDKyVQjRw8kEQgBGCgwJUXHdRkDrMlbR/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/ae8d03a9aaf52de486d333baf1357e21/eff50/img180.webp 158w,
/static/ae8d03a9aaf52de486d333baf1357e21/46f96/img180.webp 315w,
/static/ae8d03a9aaf52de486d333baf1357e21/8fa24/img180.webp 630w,
/static/ae8d03a9aaf52de486d333baf1357e21/437f1/img180.webp 945w,
/static/ae8d03a9aaf52de486d333baf1357e21/6f2ae/img180.webp 1260w,
/static/ae8d03a9aaf52de486d333baf1357e21/1208a/img180.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/ae8d03a9aaf52de486d333baf1357e21/da84f/img180.jpg 158w,
/static/ae8d03a9aaf52de486d333baf1357e21/f31d6/img180.jpg 315w,
/static/ae8d03a9aaf52de486d333baf1357e21/ddfb8/img180.jpg 630w,
/static/ae8d03a9aaf52de486d333baf1357e21/d198f/img180.jpg 945w,
/static/ae8d03a9aaf52de486d333baf1357e21/63ef2/img180.jpg 1260w,
/static/ae8d03a9aaf52de486d333baf1357e21/7edc3/img180.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/ae8d03a9aaf52de486d333baf1357e21/ddfb8/img180.jpg&quot;
          alt=&quot;Tiempos de cacheo muy cortos para fuentes en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/ae8d03a9aaf52de486d333baf1357e21/ddfb8/img180.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;La imagen del logo de Renfe podría servirse en SVG e incluso hacerlo inline, dado que va a aparecer &lt;em&gt;above the fold&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Los recursos están bien comprimidos pero el favicon.ico tiene un tamaño de 32 kb. Es bastante grande para ser un favicon, pero aparte de ello está sin comprimir. El formato ico es compresible así que no hay excusa para olvidar servirlo comprimido.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBBQb/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAGxcVaMySH/xAAbEAABBAMAAAAAAAAAAAAAAAAAAgQFNBIjM//aAAgBAQABBQJsnViSNhtwJGx//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGhAAAQUBAAAAAAAAAAAAAAAAAQACECFyMv/aAAgBAQAGPwJhvmBlMzAyv//EABsQAAIDAAMAAAAAAAAAAAAAAAABESGxcYGh/9oACAEBAAE/IV37JTdECvA1jPpYSzyNZ//aAAwDAQACAAMAAAAQhw//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxBn/8QAFREBAQAAAAAAAAAAAAAAAAAAERD/2gAIAQIBAT8QWf/EAB0QAQACAQUBAAAAAAAAAAAAAAEAIREQMUFhcbH/2gAIAQEAAT8Qt7ctKKNjiesAUKkYTmj4p3aeP//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/29171876f662d49bb0a4fca798f6877c/eff50/img224.webp 158w,
/static/29171876f662d49bb0a4fca798f6877c/46f96/img224.webp 315w,
/static/29171876f662d49bb0a4fca798f6877c/8fa24/img224.webp 630w,
/static/29171876f662d49bb0a4fca798f6877c/437f1/img224.webp 945w,
/static/29171876f662d49bb0a4fca798f6877c/6f2ae/img224.webp 1260w,
/static/29171876f662d49bb0a4fca798f6877c/1208a/img224.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/29171876f662d49bb0a4fca798f6877c/da84f/img224.jpg 158w,
/static/29171876f662d49bb0a4fca798f6877c/f31d6/img224.jpg 315w,
/static/29171876f662d49bb0a4fca798f6877c/ddfb8/img224.jpg 630w,
/static/29171876f662d49bb0a4fca798f6877c/d198f/img224.jpg 945w,
/static/29171876f662d49bb0a4fca798f6877c/63ef2/img224.jpg 1260w,
/static/29171876f662d49bb0a4fca798f6877c/7edc3/img224.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/29171876f662d49bb0a4fca798f6877c/ddfb8/img224.jpg&quot;
          alt=&quot;Favicon sin comprimir en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/29171876f662d49bb0a4fca798f6877c/ddfb8/img224.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;h3&gt;Performance in-page&lt;/h3&gt;
&lt;p&gt;Al analizar la performance una vez cargada la página encontraos un timer que se está disparando constantemente.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgABBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeu3oJx//8QAFxABAAMAAAAAAAAAAAAAAAAAAQIRIP/aAAgBAQABBQIjTn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAADAQAAAAAAAAAAAAAAAAAAIDFB/9oACAEBAAY/AtIv/8QAHBAAAgEFAQAAAAAAAAAAAAAAAAEhEBFRYaHw/9oACAEBAAE/IZS76bPIIxwVf//aAAwDAQACAAMAAAAQRA//xAAVEQEBAAAAAAAAAAAAAAAAAAAREP/aAAgBAwEBPxBZ/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAAIDAQEAAAAAAAAAAAAAAQARIUGBMZH/2gAIAQEAAT8QLN9bR8gas8wKeeiZhcqBP//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/142646734a4794bc060ce34b127ece06/eff50/img244.webp 158w,
/static/142646734a4794bc060ce34b127ece06/46f96/img244.webp 315w,
/static/142646734a4794bc060ce34b127ece06/8fa24/img244.webp 630w,
/static/142646734a4794bc060ce34b127ece06/437f1/img244.webp 945w,
/static/142646734a4794bc060ce34b127ece06/6f2ae/img244.webp 1260w,
/static/142646734a4794bc060ce34b127ece06/1208a/img244.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/142646734a4794bc060ce34b127ece06/da84f/img244.jpg 158w,
/static/142646734a4794bc060ce34b127ece06/f31d6/img244.jpg 315w,
/static/142646734a4794bc060ce34b127ece06/ddfb8/img244.jpg 630w,
/static/142646734a4794bc060ce34b127ece06/d198f/img244.jpg 945w,
/static/142646734a4794bc060ce34b127ece06/63ef2/img244.jpg 1260w,
/static/142646734a4794bc060ce34b127ece06/7edc3/img244.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/142646734a4794bc060ce34b127ece06/ddfb8/img244.jpg&quot;
          alt=&quot;Función que se ejecuta periodicamente en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/142646734a4794bc060ce34b127ece06/ddfb8/img244.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Es un tracker de Adobe que ejecuta una función cada 50 milisegundos un máximo de 18.000 veces, provocando cambios en 2 elementos del DOM principales.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB67PqSKh//8QAFhABAQEAAAAAAAAAAAAAAAAAEgAg/9oACAEBAAEFAhCOP//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/AYf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPwGn/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAEyIDH/2gAIAQEABj8CpnSnj//EABsQAAIBBQAAAAAAAAAAAAAAAAABERAhQVHh/9oACAEBAAE/IVcEtxT4Ga//2gAMAwEAAgADAAAAEH//AP/EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAgBAwEBPxCEx//EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAgBAgEBPxCl1//EABsQAQACAgMAAAAAAAAAAAAAAAEAESHRceHw/9oACAEBAAE/EGFlTGU1BOvUUWeHEItlE//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/85e75a6d89d5f160dc4640365d1d66ea/eff50/img271.webp 158w,
/static/85e75a6d89d5f160dc4640365d1d66ea/46f96/img271.webp 315w,
/static/85e75a6d89d5f160dc4640365d1d66ea/8fa24/img271.webp 630w,
/static/85e75a6d89d5f160dc4640365d1d66ea/437f1/img271.webp 945w,
/static/85e75a6d89d5f160dc4640365d1d66ea/6f2ae/img271.webp 1260w,
/static/85e75a6d89d5f160dc4640365d1d66ea/1208a/img271.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/85e75a6d89d5f160dc4640365d1d66ea/da84f/img271.jpg 158w,
/static/85e75a6d89d5f160dc4640365d1d66ea/f31d6/img271.jpg 315w,
/static/85e75a6d89d5f160dc4640365d1d66ea/ddfb8/img271.jpg 630w,
/static/85e75a6d89d5f160dc4640365d1d66ea/d198f/img271.jpg 945w,
/static/85e75a6d89d5f160dc4640365d1d66ea/63ef2/img271.jpg 1260w,
/static/85e75a6d89d5f160dc4640365d1d66ea/7edc3/img271.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/85e75a6d89d5f160dc4640365d1d66ea/ddfb8/img271.jpg&quot;
          alt=&quot;Cambios en 2 elementos DOM continuamente en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/85e75a6d89d5f160dc4640365d1d66ea/ddfb8/img271.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Una manera de comprobar que realmente es el tracker es bloquear la carga de recursos del dominio de ese archivo, en cuyo caso deja de aparecer el problema.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAdZ6MSKB/8QAGRAAAgMBAAAAAAAAAAAAAAAAABEBAhAS/9oACAEBAAEFAoohHIhZ/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAgMBAAAAAAAAAAAAAAAAAAEgMaEy/9oACAEBAAY/Aumy8LyH/8QAGhAAAgMBAQAAAAAAAAAAAAAAABEBUYFh8f/aAAgBAQABPyFh6pH4wN5EQoShH//aAAwDAQACAAMAAAAQ4O//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxBH/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8Qqv/EAB0QAAICAgMBAAAAAAAAAAAAAAERACExQWGR4fD/2gAIAQEAAT8QOvQWYdKPDJtrwitvjiW6QA0hB4n/2Q==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/7479d5e03e401b84978a4680014a7381/eff50/img285.webp 158w,
/static/7479d5e03e401b84978a4680014a7381/46f96/img285.webp 315w,
/static/7479d5e03e401b84978a4680014a7381/8fa24/img285.webp 630w,
/static/7479d5e03e401b84978a4680014a7381/437f1/img285.webp 945w,
/static/7479d5e03e401b84978a4680014a7381/6f2ae/img285.webp 1260w,
/static/7479d5e03e401b84978a4680014a7381/1208a/img285.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/7479d5e03e401b84978a4680014a7381/da84f/img285.jpg 158w,
/static/7479d5e03e401b84978a4680014a7381/f31d6/img285.jpg 315w,
/static/7479d5e03e401b84978a4680014a7381/ddfb8/img285.jpg 630w,
/static/7479d5e03e401b84978a4680014a7381/d198f/img285.jpg 945w,
/static/7479d5e03e401b84978a4680014a7381/63ef2/img285.jpg 1260w,
/static/7479d5e03e401b84978a4680014a7381/7edc3/img285.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/7479d5e03e401b84978a4680014a7381/ddfb8/img285.jpg&quot;
          alt=&quot;Bloqueando el dominio desde el que se sirve el tracker de Adobe en Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/7479d5e03e401b84978a4680014a7381/ddfb8/img285.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;Además de analizar la página principal queríamos revisar la web de venta, la que se muestra al seleccionar un billete. Los recursos que se sirven son muy diferentes a los de la página principal. Se sirven desde diferentes ubicaciones, están versionados utilizando un query parameter…&lt;/p&gt;
&lt;p&gt;Algunos ficheros tienen un contenido casi idéntico, pero en algún momento se hizo un cambio en uno de ellos y no se actualizó el otro. Esto es una fuente de problemas de inconsistencia y también previene reutilizar el archivo ya descargado cuando el usuario va desde la home hasta la página de venta.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABAABBv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAXtGg5+yP//EABwQAAEEAwEAAAAAAAAAAAAAAAEABRMzAgMEEf/aAAgBAQABBQLnxEScb9BMHqcL/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAbEAABBAMAAAAAAAAAAAAAAAABAAIQcgMhMv/aAAgBAQAGPwLGd8wKplYFV//EABsQAAMAAwEBAAAAAAAAAAAAAAABETFBsVGh/9oACAEBAAE/IUczG3MCj0fG6yLugmGbr46z/9oADAMBAAIAAwAAABAnD//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/EKf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCn/8QAHBABAAICAwEAAAAAAAAAAAAAAQAhETFhcYGh/9oACAEBAAE/EDKNrbeGoAq3UOKgkE1mPXBA6fkdllkf/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/1fe96d7a5abb827ebd89f3c8cadf2c13/eff50/img326.webp 158w,
/static/1fe96d7a5abb827ebd89f3c8cadf2c13/46f96/img326.webp 315w,
/static/1fe96d7a5abb827ebd89f3c8cadf2c13/8fa24/img326.webp 630w,
/static/1fe96d7a5abb827ebd89f3c8cadf2c13/437f1/img326.webp 945w,
/static/1fe96d7a5abb827ebd89f3c8cadf2c13/6f2ae/img326.webp 1260w,
/static/1fe96d7a5abb827ebd89f3c8cadf2c13/1208a/img326.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/1fe96d7a5abb827ebd89f3c8cadf2c13/da84f/img326.jpg 158w,
/static/1fe96d7a5abb827ebd89f3c8cadf2c13/f31d6/img326.jpg 315w,
/static/1fe96d7a5abb827ebd89f3c8cadf2c13/ddfb8/img326.jpg 630w,
/static/1fe96d7a5abb827ebd89f3c8cadf2c13/d198f/img326.jpg 945w,
/static/1fe96d7a5abb827ebd89f3c8cadf2c13/63ef2/img326.jpg 1260w,
/static/1fe96d7a5abb827ebd89f3c8cadf2c13/7edc3/img326.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/1fe96d7a5abb827ebd89f3c8cadf2c13/ddfb8/img326.jpg&quot;
          alt=&quot;Fichero de funciones JS de la sección Venta de Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/1fe96d7a5abb827ebd89f3c8cadf2c13/ddfb8/img326.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;p&gt;El fichero de i18n tiene una extensa introducción listando todos los cambios desde 2009 hasta 2017. El archivo contiene todas las cadenas de texto en un código sin minificar. Aparte de minificar se podría hacer un split del fichero, dado que la mayoría de cadenas no se utilizan en la página actual.&lt;/p&gt;
&lt;p&gt;
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABfdTujBIK/8QAHRAAAQMFAQAAAAAAAAAAAAAAAQAFMwIDBBETFP/aAAgBAQABBQLHpHJOM9knz7ThP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/Aaf/xAAbEAABBAMAAAAAAAAAAAAAAAABAAIQcgMhMv/aAAgBAQAGPwLGd8wKplYFV//EABsQAAMAAwEBAAAAAAAAAAAAAAABETFBsVGh/9oACAEBAAE/IUc3G3MCh8brJm6cE1Gbr46z/9oADAMBAAIAAwAAABCPD//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/EKf/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPxBj/8QAHBAAAgICAwAAAAAAAAAAAAAAAREAIVGBMUFh/9oACAEBAAE/EFkNmzaOI0AIPUFVASBAKY/Evn1iHYmZH//Z&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;picture&gt;
        &lt;source
          srcset=&quot;/static/34ca2aa0d8eaf9f41d164d19d674ff62/eff50/img328.webp 158w,
/static/34ca2aa0d8eaf9f41d164d19d674ff62/46f96/img328.webp 315w,
/static/34ca2aa0d8eaf9f41d164d19d674ff62/8fa24/img328.webp 630w,
/static/34ca2aa0d8eaf9f41d164d19d674ff62/437f1/img328.webp 945w,
/static/34ca2aa0d8eaf9f41d164d19d674ff62/6f2ae/img328.webp 1260w,
/static/34ca2aa0d8eaf9f41d164d19d674ff62/1208a/img328.webp 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/webp&quot;
        /&gt;
        &lt;source
          srcset=&quot;/static/34ca2aa0d8eaf9f41d164d19d674ff62/da84f/img328.jpg 158w,
/static/34ca2aa0d8eaf9f41d164d19d674ff62/f31d6/img328.jpg 315w,
/static/34ca2aa0d8eaf9f41d164d19d674ff62/ddfb8/img328.jpg 630w,
/static/34ca2aa0d8eaf9f41d164d19d674ff62/d198f/img328.jpg 945w,
/static/34ca2aa0d8eaf9f41d164d19d674ff62/63ef2/img328.jpg 1260w,
/static/34ca2aa0d8eaf9f41d164d19d674ff62/7edc3/img328.jpg 1280w&quot;
          sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
          type=&quot;image/jpeg&quot;
        /&gt;
        &lt;img
          class=&quot;gatsby-resp-image-image&quot;
          style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
          src=&quot;/static/34ca2aa0d8eaf9f41d164d19d674ff62/ddfb8/img328.jpg&quot;
          alt=&quot;Lista de cambios del fichero i18n de la sección Venta de Renfe.com&quot;
          title=&quot;&quot;
          src=&quot;/static/34ca2aa0d8eaf9f41d164d19d674ff62/ddfb8/img328.jpg&quot;
        /&gt;
      &lt;/picture&gt;
      &lt;/span&gt;
  &lt;/span&gt;
  &lt;/p&gt;
&lt;h3&gt;Conclusión&lt;/h3&gt;
&lt;p&gt;Desde un punto de vista de la web performance hay muchos puntos de mejora. Se puede ver perfectamente que es un proyecto que se ha ido modificando durante el tiempo por diferentes equipos, y nunca se ha hecho un seguimiento desde un punto de vista global y de consistencia.&lt;/p&gt;
&lt;p&gt;Esto ha sido todo esperamos que os haya gustado esta review. Como veis queríamos dar un punto de vista diferente a la hora de analizar la web de Renfe.&lt;/p&gt;
&lt;hr&gt;
&lt;h2&gt;Referencias&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.xataka.com/empresas-y-economia/que-700-000-euros-presupuesto-ridiculo-para-arreglar-web-renfe&quot;&gt;Por qué 700.000 euros es un presupuesto ridículo para “arreglar” la web de Renfe&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Informes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://lighthouse-dot-webdotdevsite.appspot.com/lh/html?url=http://www.renfe.com/&quot;&gt;Lighthouse&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.webpagetest.org/result/190203_6W_f731e8558a0ba75cf55b33eae476cd6d/&quot;&gt;WebPageTest desktop&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://cssstats.com/stats?url=http%3A%2F%2Frenfe.com&amp;#x26;ua=Browser%20Default&quot;&gt;CSS Stats&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Recurso&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://addyosmani.com/blog/script-priorities/&quot;&gt;JavaScript Loading Priorities in Chrome&lt;/a&gt; por Addy Osmani.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Smashing Magazine]]></title><description><![CDATA[Referencias Preload, Prefetch And Priorities in Chrome Informes PageSpeed Insights Mobile Home Articles Article Desktop Home Articles…]]></description><link>https://perf.reviews/reviews/1.4-smashingmagazine.com/</link><guid isPermaLink="false">https://perf.reviews/reviews/1.4-smashingmagazine.com/</guid><pubDate>Mon, 28 Jan 2019 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;
          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://www.youtube.com/embed/NalgDNrjHUg&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          &lt;/div&gt;
&lt;h3&gt;Referencias&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://medium.com/reloading/preload-prefetch-and-priorities-in-chrome-776165961bbf&quot;&gt;Preload, Prefetch And Priorities in Chrome&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Informes&lt;/h2&gt;
&lt;h3&gt;PageSpeed Insights&lt;/h3&gt;
&lt;h4&gt;Mobile&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/PageSpeedInsights-Home-Mobile-97daf43ffcfdaa59316caef1e69fc72e.pdf&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/PageSpeedInsights-Articles-Mobile-441c87703eccc18ce7e5143b19b7ed55.pdf&quot;&gt;Articles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/PageSpeedInsights-Article-Mobile-60a2e03f5df18296782d3ba53930f79a.pdf&quot;&gt;Article&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Desktop&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/PageSpeedInsights-Home-Desktop-ebd025ac549f2c5c1110ce1e2979be75.pdf&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/PageSpeedInsights-Articles-Desktop-4ed8890ed063669b4b56054e83122fea.pdf&quot;&gt;Articles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/PageSpeedInsights-Article-Desktop-8433a18ddd4f9321c1823305f693c78d.pdf&quot;&gt;Article&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;WebPageTest&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;./reports/WebPageTest/Home/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;./reports/WebPageTest/Articles/&quot;&gt;Articles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;./reports/WebPageTest/Article/&quot;&gt;Article&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;CSS Stats&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/CSSStats-Home-710009648274d576644ee14af2104bb1.pdf&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/CSSStats-Articles-ae657fb25638e3faa20b767ed95f3ed2.pdf&quot;&gt;Articles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/CSSStats-Article-6d1610c39fb685c8c624cdbbe3afeeb6.pdf&quot;&gt;Article&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Image Analysis Results&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;/Cloudinary-Home-063abb6044cc5d2cebf1ea67d4239742.pdf&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/Cloudinary-Articles-63e22d44e524331c9eae1b4589f34c32.pdf&quot;&gt;Articles&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/Cloudinary-Article-e9e76f4dcfe0cedb9aba5a782a455e0e.pdf&quot;&gt;Article&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Recurso&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ApoorvSaxena/lozad.js&quot;&gt;lozad.js&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Zara]]></title><description><![CDATA[Gracias a  Paco Segovia  y  Jaime Lozano  por sugerirnos este site para la review.
 Análisis  de Accesibilidad y Usabilidad de  Paco Segovia…]]></description><link>https://perf.reviews/reviews/1.3-zara.com/</link><guid isPermaLink="false">https://perf.reviews/reviews/1.3-zara.com/</guid><pubDate>Mon, 07 Jan 2019 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;
          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://www.youtube.com/embed/QbJAf5Oa64Y&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          &lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Gracias a &lt;a href=&quot;https://twitter.com/SeGo&quot;&gt;Paco Segovia&lt;/a&gt; y &lt;a href=&quot;https://twitter.com/jlozanospain&quot;&gt;Jaime Lozano&lt;/a&gt; por sugerirnos este site para la review.
&lt;a href=&quot;https://threadreaderapp.com/thread/962255893663502336.html&quot;&gt;Análisis&lt;/a&gt; de Accesibilidad y Usabilidad de &lt;a href=&quot;https://twitter.com/SeGo&quot;&gt;Paco Segovia&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;Estáticos&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;✅ Utilizan http/2 y un CDN para servir estáticos&lt;/li&gt;
&lt;li&gt;✅ Sirven vídeos en diferentes tamaños dependiendo de la resolución de la pantalla. Basta con cambiar el path en la URL a 600, 1080, etc.&lt;/li&gt;
&lt;li&gt;❌ Caché muy corta.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fuentes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;✅ Usan woff2&lt;/li&gt;
&lt;li&gt;✅ Usan una fuente con sólo los caracteres necesarios para Zara SRPLS (ZaraSRPLS_Font-Regular). Quizás se podría reemplazar por un SVG, pero no está mal la idea.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Imágenes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;✅ Hacen lazy loading. Bien!&lt;/li&gt;
&lt;li&gt;❌ En la home piden imágenes que son un SVG con texto con la misma fuente cargada en la página. CUIDADO: Cloudinary dice que se puede pasar a WebP y hacer la imagen pequeña para ahorrar bytes pero sería demasiado pequeña.&lt;/li&gt;
&lt;li&gt;❌ En mobile parecen pedir las imágenes a un tamaño muy grande.&lt;/li&gt;
&lt;li&gt;❌ products-category.json referencia a 2 imágenes transparentes con nombre similar. Se usan como placeholder. O bien se quitan o se pueden unificar.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Scripts&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;✅ Usan require.js para cargar módulos JS en lugar de un bundle enorme.&lt;/li&gt;
&lt;li&gt;❌ Usan jQuery 1.11.2, con una vulnerabilidad conocida y que fue releaseado en diciembre de 2014. (ver lighthouse) (ver audit performance para versión mobile).&lt;/li&gt;
&lt;li&gt;❌ Hay mucho script inline sin minificar en el HTML inicial.&lt;/li&gt;
&lt;li&gt;❌ Usan optimizely en el lado del cliente de forma bloqueante. Sin minificar y con código comentado.. WebPageTest &lt;a href=&quot;https://www.webpagetest.org/result/190102_GE_d3cd4fb7d5d473923213570633619256/1/details/#waterfall_view_step1&quot;&gt;con Optimizely&lt;/a&gt; y &lt;a href=&quot;https://www.webpagetest.org/result/190102_ND_f8cecf71476e6e6844bf84e9ec1bd8be/7/details/#waterfall_view_step1&quot;&gt;sin Optimizely&lt;/a&gt; y aquí la &lt;a href=&quot;https://www.webpagetest.org/video/compare.php?tests=190102_ND_f8cecf71476e6e6844bf84e9ec1bd8be%2C190102_GE_d3cd4fb7d5d473923213570633619256&amp;#x26;thumbSize=200&amp;#x26;ival=100&amp;#x26;end=visual#&quot;&gt;comparación&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;❌ Algún recurso tiene una TTL de caché muy baja (eg launcher-std.js, redesign.css) (ver lighthouse)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;CSS&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;✅ En CSS Stats tenemos buenos resultados.&lt;/li&gt;
&lt;li&gt;❌ Ficheros CSS sin minificar, y a veces con código comentado (eg spa-hacks en desktop, mobile-hacks en mobile).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;SVG&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;❌ Logo de Zara, carrito, etc pueden ocupar casi la mitad si se pasan por SVGOMG. La idea de SVG + h2 es mejor que Web font para iconos + http/1.1, lo cual es positivo. (ver devtools + svgomg)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Más cosas&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;✅ Usan boomerang de Akamai, lo que quiere decir que tienen RUM configurado y miden el page load time. Más info en &lt;a href=&quot;https://www.akamai.com/uk/en/products/web-performance/mpulse-real-user-monitoring.jsp&quot;&gt;https://www.akamai.com/uk/en/products/web-performance/mpulse-real-user-monitoring.jsp&lt;/a&gt; y &lt;a href=&quot;https://developer.akamai.com/tools/boomerang/#Introduction&quot;&gt;https://developer.akamai.com/tools/boomerang/#Introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;❌ Responsive? No mucho en desktop. Es fácil que la pantalla se corte. En mobile usan un dominio diferente.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Performance una vez cargada&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;❌ Hay un problema de performance al hacer scroll y setear el top del menú de la izquierda.
En app-std &gt; adjustVerticalPos &gt; this.$navigationMenu.css. Además, onScroll() no tiene throttling. Esto da para una buena demo mostrando Rendering &gt; Paint flashing y un performance recording.&lt;/li&gt;
&lt;li&gt;❌ Hablando de flashing, el loader.gif de las imágenes sigue pintándose. En Spotify tuvimos el mismo problema. Basta con ocultarlo.&lt;/li&gt;
&lt;li&gt;❌ Hay un raf ejecutándose todo el tiempo. Probablemente sólo usado en la página principal en desktop y mobile.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Informes&lt;/h2&gt;
&lt;h3&gt;PageSpeed Insights&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fzara.com%2Fes&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fwww.zara.com%2Fes%2Fes%2Fmujer-nuevo-l1180.html%3Fv1%3D1074660&quot;&gt;Category&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;WebPageTest&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.webpagetest.org/result/190102_GE_d3cd4fb7d5d473923213570633619256/&quot;&gt;Home&lt;/a&gt; La Rioja, Spain - Chrome - Cable&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.webpagetest.org/result/190102_DJ_c2211970eb499e83e2ec9c308b0254d6/&quot;&gt;Category&lt;/a&gt; La Rioja, Spain - Chrome - Cable&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;CSS Stats&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://cssstats.com/stats?url=https%3A%2F%2Fwww.zara.com%2Fes&amp;#x26;ua=Browser%20Default&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://cssstats.com/stats?url=https%3A%2F%2Fwww.zara.com%2Fes%2Fes%2Fmujer-nuevo-l1180.html%3Fv1%3D1074660&amp;#x26;ua=Browser%20Default&quot;&gt;Category&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Image Analysis Results&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://webspeedtest.cloudinary.com/results/190102_Q7_e67af2ac785cec0bbba6a81da1fefbf7&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://webspeedtest.cloudinary.com/results/190102_AS_05c49e213b0591cf32184ef6fee18252&quot;&gt;Category&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Recurso&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://calendar.perfplanet.com/&quot;&gt;Performance Calendar&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[El Corte Inglés]]></title><description><![CDATA[Informes y herramientas PageSpeed Insights Home Producto Cloudinary (imágenes) Informe de Cloudinary de la página de home.  Potential…]]></description><link>https://perf.reviews/reviews/1.2-elcorteingles.es/</link><guid isPermaLink="false">https://perf.reviews/reviews/1.2-elcorteingles.es/</guid><pubDate>Mon, 31 Dec 2018 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;
          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://www.youtube.com/embed/yyLAPxgwSGM&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          &lt;/div&gt;
&lt;h2&gt;Informes y herramientas&lt;/h2&gt;
&lt;h3&gt;PageSpeed Insights&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Felcorteingles.es&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fwww.elcorteingles.es%2Fmoda%2FMP_0278036_1096467b-botas-de-mujer-w-highland-waterproof-ugg-en-piel-de-color-blanco%2F&quot;&gt;Producto&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Cloudinary (imágenes)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Informe de Cloudinary de la página de home. &lt;a href=&quot;https://webspeedtest.cloudinary.com/results/181220_R5_02f6b8d955f17e0da71f017e90bf41c7&quot;&gt;Potential Compressed Weight&lt;/a&gt; &lt;code class=&quot;language-text&quot;&gt;23%&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Informe de Cloudinary de la página de producto. &lt;a href=&quot;https://webspeedtest.cloudinary.com/results/181220_7V_cc82a84563770ca2997d3a82252cdde1&quot;&gt;Potential Compressed Weight&lt;/a&gt; &lt;code class=&quot;language-text&quot;&gt;37.3%&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Webpagetest&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.webpagetest.org/result/181229_R8_4290f9e55cf33f85a1907de91e4063a5/&quot;&gt;Home&lt;/a&gt; | &lt;em&gt;Chrome - Moto G4 - Chrome - &lt;strong&gt;4G&lt;/strong&gt;&lt;/em&gt;  | &lt;a href=&quot;hhttps://www.webpagetest.org/video/view.php?id=181229_R8_4290f9e55cf33f85a1907de91e4063a5.3.0&quot;&gt;📺 &lt;strong&gt;Video&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.webpagetest.org/result/181221_YY_6d961c32b00c53203fd62838c00a0956/&quot;&gt;Home&lt;/a&gt; | &lt;em&gt;Chrome - &lt;strong&gt;Cable&lt;/strong&gt;&lt;/em&gt; | &lt;a href=&quot;https://www.webpagetest.org/result/181221_YY_6d961c32b00c53203fd62838c00a0956/1/screen_shot/&quot;&gt;📺 &lt;strong&gt;Video&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.webpagetest.org/result/181220_EY_bfe5daffcdc00de54aa7a887b9f0513d/&quot;&gt;Product detail&lt;/a&gt; | &lt;em&gt;Chrome - Moto G4 - Chrome - &lt;strong&gt;4G&lt;/strong&gt;&lt;/em&gt; | &lt;a href=&quot;https://www.webpagetest.org/video/view.php?id=181220_EY_bfe5daffcdc00de54aa7a887b9f0513d.3.0&quot;&gt;📺 &lt;strong&gt;Video&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.webpagetest.org/result/181222_DW_2524938b8a7051d396433cb2f5e874c1/&quot;&gt;Product detail&lt;/a&gt; | &lt;em&gt;Chrome - &lt;strong&gt;Cable&lt;/strong&gt;&lt;/em&gt; | &lt;a href=&quot;https://www.webpagetest.org/result/181222_DW_2524938b8a7051d396433cb2f5e874c1/1/screen_shot/&quot;&gt;📺 &lt;strong&gt;Video&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;CSS Stats report&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://cssstats.com/stats?url=https%3A%2F%2Fwww.elcorteingles.es&amp;#x26;ua=Browser%20Default&quot;&gt;Home&lt;/a&gt; | Size: &lt;code class=&quot;language-text&quot;&gt;647 kB&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;65 Unique Font Sizes
12 Unique Font Families
33 Media Queries&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Recurso del día&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://squoosh.app&quot;&gt;Squoosh&lt;/a&gt; - Optimizador de imágenes online&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Mediamarkt España]]></title><description><![CDATA[Informes y herramientas PageSpeed Insights Home Product Cloudinary (imágenes) Informe de Cloudinary de la página de home.  Potential…]]></description><link>https://perf.reviews/reviews/1.1-mediamarkt.es/</link><guid isPermaLink="false">https://perf.reviews/reviews/1.1-mediamarkt.es/</guid><pubDate>Fri, 28 Dec 2018 00:00:00 GMT</pubDate><content:encoded>&lt;div&gt;
          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://www.youtube.com/embed/xD8MbFUZPKQ&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          &lt;/div&gt;
&lt;h2&gt;Informes y herramientas&lt;/h2&gt;
&lt;h3&gt;PageSpeed Insights&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fwww.mediamarkt.es&quot;&gt;Home&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&quot;https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fwww.mediamarkt.es%2Fes%2Fproduct%2F_consola-nintendo-switch-6-2-joy-con-azul-y-rojo-ne%25C3%25B3n-1353575.html&quot;&gt;Product&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Cloudinary (imágenes)&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Informe de Cloudinary de la página de home. &lt;a href=&quot;https://webspeedtest.cloudinary.com/results/181220_DW_0817ab3a3c86ce6a352222b1946bb95c&quot;&gt;Potential Compressed Weight&lt;/a&gt; &lt;code class=&quot;language-text&quot;&gt;53.1%&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Informe de Cloudinary de la página de producto. &lt;a href=&quot;https://webspeedtest.cloudinary.com/results/181220_5Z_2d2491cec6ab46d20fb922681d5afcb6&quot;&gt;Potential Compressed Weight&lt;/a&gt; &lt;code class=&quot;language-text&quot;&gt;52.5%&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Webpagetest&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.webpagetest.org/result/181220_8H_72dfccbb0939ab9689666e864bfc0763/&quot;&gt;Home&lt;/a&gt; | &lt;em&gt;Chrome - Cable&lt;/em&gt; | &lt;a href=&quot;https://www.webpagetest.org/result/181220_8H_72dfccbb0939ab9689666e864bfc0763/1/screen_shot/&quot;&gt;📺 &lt;strong&gt;Video&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.webpagetest.org/result/181220_6A_ed64940a66a1820907b2a0b7cda4d05e/&quot;&gt;Home&lt;/a&gt; | &lt;em&gt;Chrome - Emulated Samsung Galaxy S8/S8+/Note 8 - 3GFast - Mobile&lt;/em&gt; | &lt;a href=&quot;https://www.webpagetest.org/result/181220_6A_ed64940a66a1820907b2a0b7cda4d05e/1/screen_shot/&quot;&gt;📺 &lt;strong&gt;Video&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;CSS Stats&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://cssstats.com/stats?url=https%3A%2F%2Fwww.mediamarkt.es&amp;#x26;ua=Browser%20Default&quot;&gt;Home&lt;/a&gt; | Size: &lt;code class=&quot;language-text&quot;&gt;1.46 Mb&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;131 Unique Font Sizes
26 Unique Font Families
67 Media Queries&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;DevTools Coverage&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;./reports/Coverage-Home.jpg&quot;&gt;Home Coverage&lt;/a&gt; &lt;code class=&quot;language-text&quot;&gt;3.0Mb of 4.5Mb are not used (67%)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;./reports/Coverate-Product.jpg&quot;&gt;Product Coverage&lt;/a&gt; &lt;code class=&quot;language-text&quot;&gt;3.3Mb of 4.9Mb are not used (67%)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Enlaces a otros recursos mencionados&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://youmightnotneedjquery.com&quot;&gt;You might not need jQuery&lt;/a&gt;, que muestra el código equivalente para reemplazar jQuery con JS estándar.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/google/woff2&quot;&gt;Google Woff2&lt;/a&gt;, una herramienta para generar ficheros de fuentes en formato woff2.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Recurso del día&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://web.dev/learn&quot;&gt;web.dev/Learn&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>