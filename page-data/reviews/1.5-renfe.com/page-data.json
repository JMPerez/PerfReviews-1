{"componentChunkName":"component---src-templates-blog-post-js","path":"/reviews/1.5-renfe.com/","webpackCompilationHash":"4ee8b307865fbeeb9263","result":{"data":{"site":{"siteMetadata":{"title":"PerfReviews","author":"Joan León y José M. Pérez"}},"markdownRemark":{"id":"8be7af46-f2c4-5d0b-be91-7c542b38f008","excerpt":"Analizamos la web de Renfe. Una web con poco contenido pero con potenciales mejoras. Veremos estáticos sin minificar, duplicación de assets, combinación de…","html":"<p>Analizamos <a href=\"http://www.renfe.com/\">la web de Renfe</a>. Una web con poco contenido pero con potenciales mejoras. Veremos estáticos sin minificar, duplicación de assets, combinación de recursos “a mano” y problemas de repintado producidos por librerías de tracking.</p>\n<p>Aquí tienes nuestro análisis:</p>\n\n          <div\n            class=\"gatsby-resp-iframe-wrapper\"\n            style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem\"\n          >\n            <iframe src=\"https://www.youtube.com/embed/pi02YqNHjJs\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen style=\"\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n          \"></iframe>\n          </div>\n          \n<hr>\n<div style=\"font-size: 0.9em; color: #0c5460;background-color: #ebf5f7;border: 1px solid #bee5eb;padding: .75rem 1.25rem;margin-bottom:calc(1.75rem - 1px);\">\n<strong>¿Te gusta nuestro proyecto y quieres trabajar con nosotros?</strong> <br/> Somos expertos en web performance y ofrecemos formaciones a equipos de desarrollo y auditorías de sitios web.<br/><a href=\"/servicios/\">Más información sobre nuestros servicios</a>.\n</div>\n<h2 id=\"resumen-del-video\">Resumen del vídeo</h2>\n<p>En esta review hemos elegido <a href=\"http://www.renfe.com/\">la web de renfe</a>. Es una web que históricamente ha recibido críticas por <a href=\"http://accesibilidadweb.dlsi.ua.es/?menu=accesibilidad-web-renfe\">sus problemas de accesibilidad</a>, <a href=\"https://www.mastermarketingdigital.com/everriculum/2017/06/10/hands-on-informe-de-usabilidad-renfe-app/\">usabilidad</a> y <a href=\"https://www.elplural.com/politica/twitter-se-ceba-con-los-errores-en-la-web-de-renfe_103904102\">disponibilidad</a>. Hasta ahora no habíamos visto un análisis de performance de su web, y como esto es lo que nos gusta hacer en Perf Reviews, decidimos ponernos manos a la obra.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%202v3h401V0H0v2m0%2037l1%2011h49l52-1c1-1%203-5%204-11l3-8%20145-1h146v10l1%2010V28H0v11m4-3c-2%202-2%205%200%207s3%202%2018%202h17V35l-17-1C7%2034%205%2034%204%2036m22%2017l1%202%201%203%201%203%204%2013-3%205-2%203%204%202%203%202c1-1-1-16-2-22l-1-6%202-1c4-3%2012%203%2012%209%200%209%203%207%204-3%200-8%200-9-7-9l-5-1-2-1v1c0%202-1%201-3%200l-3-2v2l-3-1c-1-1-1-1-1%201m152-1c-3%200-3%200-2%202l2%206%201%205c2%202%203%209%202%2012s-2%203-8%203-7%200-10%203c-3%202-3%203-2%207%201%205%205%2012%207%2012%201%200%202%206%201%207l-1%202-1%201c-2%200-3%205-1%208l2%201h2c0%202%204%201%204-1l12-1%2012-2c2%200%202%200%202%202-1%204%200%204%203%200l4-3c2%202%207-13%207-22a205%20205%200%20011-14c-1%202-1%201-3-4-7-18-18-27-34-24m174%200h-3c-2%200-2%200-1%202l2%205%202%206c1%205%201%206-1%207l-2%201%202%201c2%200%203%203%200%205v1l-1%201c-2%201-2%201%201%202l4%203c0%202-1%202-4-1-2-2-5-3-7-3l-2-1h-3c-7%201-8%209-3%2016l4%205c2%201%201%207-1%2010-3%204-4%206-1%205l1%201c-1%201%200%202%203%202%202%200%203-1%202-2h1c2%201%2015%202%2020%201%203-1%203-1%203%202%201%204%202%204%208-2%209-10%2012-23%208-41%200-2%200-3%202-5%201-1%201-1-1-1l-7-9-4-4-4-2c-3-3-9-6-13-6l-5%201m3%206c-2%200-2%201-2%202l1%205c2%208%203%2022%202%2023v16l1%202c1%200%202-1%201-6%200-6%200-7%203-13v-3c-1-2%200-3%202-1h2l3-1%202-2-1-3-1-2-2-6c-3-3-4-4-2-4%202%201%202%200%202-2l-2-1h-1c1-1%200-3-2-3-3-2-3-2-6-1m-172%202c-1%201%201%2013%202%2021v12c1%201%203-4%202-5%200-2%207-6%2011-6%203%200%203%200%202-1l-3-5c0-4-3-8-8-10-3-1-3-2-1-2l4%202c3%202%204%201%201-2-2-2-10-5-10-4M71%2064v2h36v-5H71v3m190%2015v20l1-7v-6l2%206c4%209%204%208%204-3%200-7%200-11-1-10l-1%206v6l-2-6c-2-7-2-7-3-6M20%2083h-5c-2%200-3%201-4%206%200%204%202%207%206%2011l2%203%201%201v3c-1%203%200%203%204-1%202-2%203-3%204-2v3l3%203h4c1%201%207-1%207-2l-5-1-5-1%202-3c5-8-5-22-14-20m22%202l-2%203-1%205h-1l-1%205%201%206c1%201%201%201%201-1%200-4%203-7%207-7h4v-7c0-6%200-7-2-7l-6%203m155%2011c-5%200-5%200-4%203v7c-2%208%201%209%206%202%203-3%205-13%203-13l-5%201m172%200h-4v7c-1%208-1%207-7%207-4%200-5%201-5%203l-1%202v-2c0-2%200-2-3-1l-4%201-1%201c1%202%2014%204%2016%202%201-2%205-3%205-1l1%201%202%201%202%201-1-2v-5c4-2%208-14%205-14v-1l-1-1-4%201M0%20154v8h401v-8l-1-8-136%201a1584%201584%200%2000-174%203l-40-1c0-2-3-2-25-2H0v7m264%2020c-3%201-5%205-3%208%203%204%206%205%209%203%205-4%201-13-6-11m-46%205c0%202-10%202-16%201s-7%200-7%208l1%207h10c13%200%2014-1%2014-10l-1-7-1%201m-133%203l-6%204c-4%203-4%204-5%2013v13c0%204%200%205-2%206-2%200-2%200%201%204l3%203h13c17%200%2019-1%2014-9-2-3-3-5%200-3%201%202%201%202%201%200l-1-8v-5c2-1%202-13%200-15-1-3-10-5-18-3m-2%2014c-2%201-2%203%201%203l-1%201-3%201h2c4%200%204%202%200%203-3%200-3%200-2%205%202%205%204%208%207%209s9-5%2010-9l1-6h-3l-3-1%202-1c2%200%202%200%200-1l-1-1a765%20765%200%2001-10-4\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/58e0a15b64a2efdd8595e4afcdb4940d/277cf/img010.webp 310w,\n/static/58e0a15b64a2efdd8595e4afcdb4940d/5077d/img010.webp 620w,\n/static/58e0a15b64a2efdd8595e4afcdb4940d/e1adb/img010.webp 1240w,\n/static/58e0a15b64a2efdd8595e4afcdb4940d/a1c21/img010.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/58e0a15b64a2efdd8595e4afcdb4940d/b0751/img010.jpg 310w,\n/static/58e0a15b64a2efdd8595e4afcdb4940d/e1d7b/img010.jpg 620w,\n/static/58e0a15b64a2efdd8595e4afcdb4940d/d1f04/img010.jpg 1240w,\n/static/58e0a15b64a2efdd8595e4afcdb4940d/6c315/img010.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/58e0a15b64a2efdd8595e4afcdb4940d/d1f04/img010.jpg\"\n          alt=\"La web de Renfe.com\"\n          title=\"La web de Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">La web de Renfe.com</figcaption>\n  </figure></p>\n<p>Decidimos hacer la revisión aprovechando el anuncio de que van a hacer ciertas mejoras en su web. Hay varias noticias al respecto sobre el cambio que van a hacer <a href=\"https://www.xataka.com/empresas-y-economia/que-700-000-euros-presupuesto-ridiculo-para-arreglar-web-renfe\">e incluso el presupuesto</a>. Hay gente que le asusta esas cantidades y hay otros que dicen que no trabajarían en esa web por ese importe. Nosotros nos queremos centrar en hacer una revisión del rendimiento.</p>\n<h3 id=\"informes-de-lighthouse-webpagetest-cloudinary-y-css-stats\">Informes de Lighthouse, WebPageTest, Cloudinary y CSS Stats</h3>\n<p>Como suele ser habitual hacemos una primera pasada usando de <a href=\"https://web.dev\">web.dev</a>. A nivel de performance la puntuación es muy muy baja.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%203v3l200-1h201V0H0v3m30%2014l34%201a1040%201040%200%2000-34-1m230%2043c-3%203-2%2010%202%2011s7-1%208-5c1-6-5-10-10-6m-49%20127l28%201%2028-1-29-1c-18%200-28%200-27%201\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/7a96434756976bcd70d7edeb68796c45/277cf/img024.webp 310w,\n/static/7a96434756976bcd70d7edeb68796c45/5077d/img024.webp 620w,\n/static/7a96434756976bcd70d7edeb68796c45/e1adb/img024.webp 1240w,\n/static/7a96434756976bcd70d7edeb68796c45/a1c21/img024.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/7a96434756976bcd70d7edeb68796c45/b0751/img024.jpg 310w,\n/static/7a96434756976bcd70d7edeb68796c45/e1d7b/img024.jpg 620w,\n/static/7a96434756976bcd70d7edeb68796c45/d1f04/img024.jpg 1240w,\n/static/7a96434756976bcd70d7edeb68796c45/6c315/img024.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/7a96434756976bcd70d7edeb68796c45/d1f04/img024.jpg\"\n          alt=\"Lighthouse para la web de Renfe.com\"\n          title=\"Lighthouse para la web de Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Lighthouse para la web de Renfe.com</figcaption>\n  </figure></p>\n<p>Los tiempos de First Contentful Paint se disparan a 8 segundos, el número de recursos que están solicitando, la forma en que está estructurado ese HTML para pedir esos recursos se pueden mejorar. En WebPageTest la parte negativa es principalmente el cacheo.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20127v98h98V57h204v168h99V28h-99v24H98V28H0v99m271-96v9h11V29h-5c-5%200-6%200-6%202m-57%20150c0%202%200%202%2026%202l25-1c0-2-3-2-24-2l-25-1c-2%200-2%200-2%202m172%2029l-1%206v6h15v-13h-7l-7%201\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/d187fee00ed94efd84055195b7bc4245/277cf/img034.webp 310w,\n/static/d187fee00ed94efd84055195b7bc4245/5077d/img034.webp 620w,\n/static/d187fee00ed94efd84055195b7bc4245/e1adb/img034.webp 1240w,\n/static/d187fee00ed94efd84055195b7bc4245/a1c21/img034.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/d187fee00ed94efd84055195b7bc4245/b0751/img034.jpg 310w,\n/static/d187fee00ed94efd84055195b7bc4245/e1d7b/img034.jpg 620w,\n/static/d187fee00ed94efd84055195b7bc4245/d1f04/img034.jpg 1240w,\n/static/d187fee00ed94efd84055195b7bc4245/6c315/img034.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/d187fee00ed94efd84055195b7bc4245/d1f04/img034.jpg\"\n          alt=\"WebPageTest para la web de Renfe.com\"\n          title=\"WebPageTest para la web de Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">WebPageTest para la web de Renfe.com</figcaption>\n  </figure></p>\n<p>La web de Renfe en escritorio es relativamente rápida. Tampoco tiene mucho contenido: el formulario de venta, un slider, unas pocas imágenes y un menú. La home es relativamente ligera para un análisis de performance pero sí es verdad que en cuanto a la estructura y la arquitectura que tienen en el html y en las peticiones de los recursos veremos que hay bastantes puntos de mejora.</p>\n<p>Las imágenes están bien, aunque se puede aumentar su compresión bastante manteniendo el formato JPG.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%203v3l200-1h201V0H0v3m29%2014l1%201a7804%207804%200%2000-1-1m68%2064c-4%204-3%2013%202%2015%208%203%2014-1%2014-9%200-7-11-11-16-6m36%205l58%201a702%20702%200%20001-2l-59%201m0%205l21%201c28%200%2028-1%200-2l-21%201m139%2035l-9%201v3l2%201c2%200%203%203%200%204v3c1%207%206%208%206%202v-5c0-1%202-2%205-2%204%200%204%200%204-3v-3h22l22-1h-52m18%206l-1%202c-2%200-1%208%201%209%202%202%202%202-7%202l-15%201-5%201%208%201c57%200%2056%200%2055-1%200-2-2-2-11-2-11%200-19-1-19-3l1-2c2-2%202-2%204%200%203%202%206%202%206-1l2-1c2%200%203-1%201-3h-6c-5%200-5%200-8-2-2-4-6-4-6-1m-112%2082c1%202%2045%202%2045%201%200-2-4-2-23-2l-22%201\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/ccc8662b64c00e21ffc9befb44ef8f56/277cf/img044.webp 310w,\n/static/ccc8662b64c00e21ffc9befb44ef8f56/5077d/img044.webp 620w,\n/static/ccc8662b64c00e21ffc9befb44ef8f56/e1adb/img044.webp 1240w,\n/static/ccc8662b64c00e21ffc9befb44ef8f56/a1c21/img044.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/ccc8662b64c00e21ffc9befb44ef8f56/b0751/img044.jpg 310w,\n/static/ccc8662b64c00e21ffc9befb44ef8f56/e1d7b/img044.jpg 620w,\n/static/ccc8662b64c00e21ffc9befb44ef8f56/d1f04/img044.jpg 1240w,\n/static/ccc8662b64c00e21ffc9befb44ef8f56/6c315/img044.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/ccc8662b64c00e21ffc9befb44ef8f56/d1f04/img044.jpg\"\n          alt=\"Cloudinary para la web de Renfe.com\"\n          title=\"Cloudinary para la web de Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Cloudinary para la web de Renfe.com</figcaption>\n  </figure></p>\n<p>La mayoría de imágenes se están sirviendo al tamaño  adecuado. Hay varias imágenes como el logo de Renfe y varios iconos que podrían convertirse a SVG. En móvil las imágenes del slider se cortan.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M333%2048l4%201c3%200%203%200%201%201s2%201%209%201l11-1%202-1v1l-1%201%201%201%2016-1%2015-1h1c0%202%208%201%208-1l-3-1-10-1-8%201%203%201c1%201%200%201-3%201-5%200-6%200-4-1s1-1-3-1h-39M68%2061c-7%203-7%200-7%2087v77h88v-58c1-103%201-102-7-106-5-3-69-3-74%200m-2%2046l1%2027h38l39-1-38-1H68l-1-6v-5h38l39%201V80H66v27m38%2029c-2%202-7%202-20%202l-18%201%2017%201c15%200%2017%200%2011%201s-6%201-16%2012c-13%2012-12%2012-4%2019%207%207%207%207%202%207h-7l-2%201c-1%202-1%203%201%203%2017%200%2018%200%2018%203%200%202-1%203-3%201h-7c0%202-8%201-9-1s-1-2-1%201v3h78v-11h-27a221%20221%200%2000-30%201c-3%200-3%200%207-11%2011-10%2011-10%2011-16l4-8%202-3h17l16-1-16-1c-15%200-16%200-17-2-1-3-4-3-7-2m-13%208c-1%200-7%204-12%2010l-10%2010%206%207%208%206%2011-9c8-9%209-10%2010-14%200-4%200-5-2-7-3-3-5-3-2%200v4c-3%202-5%200-3-4%201-4%201-4-6-3m-25%2066v9h14c14%200%2015%200%2016-2%202-3%208-6%2014-6%205%200%208%201%209%206%200%202%200%202%2013%202h12v-19H66v10\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/738a4aae45d4324bd3045507f7bad8f5/277cf/img060.webp 310w,\n/static/738a4aae45d4324bd3045507f7bad8f5/5077d/img060.webp 620w,\n/static/738a4aae45d4324bd3045507f7bad8f5/e1adb/img060.webp 1240w,\n/static/738a4aae45d4324bd3045507f7bad8f5/a1c21/img060.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/738a4aae45d4324bd3045507f7bad8f5/b0751/img060.jpg 310w,\n/static/738a4aae45d4324bd3045507f7bad8f5/e1d7b/img060.jpg 620w,\n/static/738a4aae45d4324bd3045507f7bad8f5/d1f04/img060.jpg 1240w,\n/static/738a4aae45d4324bd3045507f7bad8f5/6c315/img060.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/738a4aae45d4324bd3045507f7bad8f5/d1f04/img060.jpg\"\n          alt=\"Imágenes que se cortan en móvil en la web de Renfe.com\"\n          title=\"Imágenes que se cortan en móvil en la web de Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Imágenes que se cortan en móvil en la web de Renfe.com</figcaption>\n  </figure></p>\n<p>Son imágenes de 1600 píxeles de ancho y están maquetadas para que la parte central de la imagen sea la que tiene el contenido con el texto. Aquí estaría bien que utilizasen responsive images para servir imágenes que se adapten al dispositivo y no hacer peticiones a imágenes de gran tamaño. Además, las imágenes se referencian en el HTML, lo que no permite hacer lazy loading, solicitando todas las imágenes al cargar la página.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%203l1%202%201-1h30V3h1c0%202%2016%202%20159%202a3239%203239%200%2000160-1h49l-1-2V1l-4-1-5%201h-17l-15-1c-13%200-14%200-13%202l-1%202-1-1V1L228%200A2516%202516%200%200068%200C28%200%2026%201%2026%202l-2%202V1L9%202H7l1-1c1-1-1-1-3-1-4%200-5%200-5%203m96%2066c-3%206%201%2013%207%2010%202-2%203-6%200-7v-1l1-2c-1-3-6-2-8%200m11-1c-2%203-1%2010%201%2011%204%202%209-1%207-4v-4c0-3-1-4-4-4l-4%201m113%200v10l3%201c4%202%208-5%204-7v-1l1-1c0-3-6-4-8-2m21%200l-2%206c0%204%200%204%202%205%205%202%2010-2%207-5v-4c0-2-1-3-4-3l-3%201m-77%2052c-3%205-3%205%200%205l3%201h6c4%203%208-5%205-8-4-3-9%201-6%205v1c-2%200-3-1-3-4%200-4-2-4-5%200m124%2041l-2%206c-1%201-1%202%201%202l1-1%202-1%202%201%205%201c5%200%205%200%205-3%200-5-6-7-7-2a451%20451%200%2000-2%200c-2-5-4-6-5-3\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/c1a502b5566332350c226fd87decf230/277cf/img077.webp 310w,\n/static/c1a502b5566332350c226fd87decf230/5077d/img077.webp 620w,\n/static/c1a502b5566332350c226fd87decf230/e1adb/img077.webp 1240w,\n/static/c1a502b5566332350c226fd87decf230/a1c21/img077.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/c1a502b5566332350c226fd87decf230/b0751/img077.jpg 310w,\n/static/c1a502b5566332350c226fd87decf230/e1d7b/img077.jpg 620w,\n/static/c1a502b5566332350c226fd87decf230/d1f04/img077.jpg 1240w,\n/static/c1a502b5566332350c226fd87decf230/6c315/img077.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/c1a502b5566332350c226fd87decf230/d1f04/img077.jpg\"\n          alt=\"CSS Stats para la web de Renfe.com\"\n          title=\"CSS Stats para la web de Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">CSS Stats para la web de Renfe.com</figcaption>\n  </figure></p>\n<p>El estado del CSS es relativamente positivo. Tiene una especificidad en forma de sierra, lo que se puede interpretar como que conforme va pasando el tiempo se han ido añadiendo selectores más específicos para sobreescribir lo anterior. Más adelante explicaremos algunos CSS que se sirven sin minificar.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M90%2050h2l1%201-4%201-3%201v41h5l6-1V73l-1-21-2-1c0-1-1-2-3-2s-2%200-1%201m156%2016v28l5-1h5l1-14V65h-5l-6%201m-40%2016v12h5l6-1V71h-11v11m80%201v11h3l6-1c2%200%202%200%202-11V71h-11v12m-183%205v5h11V83h-11v5m63-4v10h5l6-1v-9h-11m37%2063a531%20531%200%2000-4%2033l-1-3-1%208c0%2010-2%207-4-6-1-8-2-9-2-5-1%203-1%203-1-3%200-7-1-6-2%205%200%206-1%208-2%208l-1%204c0%208-2%204-2-4%200-5%200-6-1-4-1%205-3%205-3%201%200-3%200-4-2-4s-2-1-2-4-1-1-1%203l-1%208-1%204-1%203-1-3v-4h-5c-5%200-5%200-5%203l-1%204v-4l-1-3-1%203c0%204%200%203-1-1s-4-4-4%201l-1%203-1-7c0-9-1-8-2%201l-1%203c0-6-2-7-2-2%200%203%200%203-1%201%200-4-3-4-3%200%200%206-5%2015-5%2010l-1-2v-9l-1-4-1%203-1%207-1%208-1-10c0-14-1-18-3-19-2%200-2%202-2%2025%200%202-1%203-2%203l-1-10c0-11-1-19-2-17l-1%203v3l-1-3c0-3%200-4-1-3l-1%203c1%208%200%2024-1%2024l-1-10-1-10-1-5c0-3%200-4-1-3l-1%204v3l-1-4c0-3%200-3-1%200-1%206-5%206-5%200%200-2%200-3-2-3s-2%201-2%2011a264%20264%200%2000-1%2012c-1-1-1-1-1%201%201%202%200%203-1%203-1%201-1%200-1-3l-1-3v4l-1%203-1-3-1-3-1%202c0%203-2%205-4%204l-1%201c1%201%201%201%200%200l-2-2a485%20485%200%2001-1-6c-1%200-2%203-2%207v8h240v-13a999%20999%200%2001-2-34c-1%205-2%204-2-2l-1-2-1%202c1%207%200%2012-1%2012s-2-1-2-4l-1-3-3-1c-1-1-1%201-1%207%200%2012-2%2020-2%209%200-8-1-10-4-8-1%201-1-1-2-7%200-7%200-8-2-7l-1%203h2l-2%202-1%2010v8l-1-9-1-8v7c0%208-2%2011-2%205-1-2-1%200-1%204%200%205%200%206-1%203l-1%203c-1%205-1%205-1-3l-1-11c-1-1-1-1-2%206-1%201-1%200-1-3%200-7-2-3-2%204v8l-2-9c-1-12-2-13-2-7l-2%2015-1-3v-3l-1%203-1%204v-4l-1-3v3l-1%204c-2%200-3%201-4%206%200%205-1%204-1-12s-1-21-2-16v4l-1%202-1%204c0%205-1%205-1%200l-1-3c-1%200-2-1-2-4%200-6-2-7-1-1l-2%2013-1%208v-10a234%20234%200%2001-1-19c-1-1-2%207-2%2019v10l-1-11c-2-20-3-22-3-5l-1%2015-1%203c0%206-2-3-2-11%200-9-2-8-2%201-1%2010-2%2011-2%201%200-12-2-11-2%201v11l-1-10c0-9-2-14-2-7%200%203%200%203-1%201l-1-4-1-5c-1-1-1%204-1%2012%200%2012%200%2014-1%2013l-2-4c0-3%200-2-1%202l-1%206v-5l-1-5-2-3c-1-2-1-1-1%207v10h-6v-7c0-5%200-7-1-6l-1%203-1%203-1-7c0-6-1-9-4-9l-1-14c0-14%200-17-1-14\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/53b506a2a2e3df66b7b2f06970ce9bd2/277cf/img084.webp 310w,\n/static/53b506a2a2e3df66b7b2f06970ce9bd2/5077d/img084.webp 620w,\n/static/53b506a2a2e3df66b7b2f06970ce9bd2/e1adb/img084.webp 1240w,\n/static/53b506a2a2e3df66b7b2f06970ce9bd2/a1c21/img084.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/53b506a2a2e3df66b7b2f06970ce9bd2/b0751/img084.jpg 310w,\n/static/53b506a2a2e3df66b7b2f06970ce9bd2/e1d7b/img084.jpg 620w,\n/static/53b506a2a2e3df66b7b2f06970ce9bd2/d1f04/img084.jpg 1240w,\n/static/53b506a2a2e3df66b7b2f06970ce9bd2/6c315/img084.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/53b506a2a2e3df66b7b2f06970ce9bd2/d1f04/img084.jpg\"\n          alt=\"CSS Stats para la web de Renfe.com\"\n          title=\"CSS Stats para la web de Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">CSS Stats para la web de Renfe.com</figcaption>\n  </figure></p>\n<h3 id=\"redirecciones-y-falta-de-ssl\">Redirecciones y falta de SSL</h3>\n<p>Una de las cosas que llama la atención en Renfe es que el dominio no hace una redirección uniforme. Renfe.es no funciona, pero www.renfe.es sí, redirigiendo a renfe.com. La página principal no se sirve usando HTTPS. Este es un punto de mejora, ya que aparte de mejorar la seguridad e integridad de los datos permite implementar una serie de mejoras como service workers o http/2 que sólo funcionan sobre HTTPS.</p>\n<p>La web de venta a la que el usuario llega después de elegir origen y destino sí soporta HTTPS.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h189a3849%203849%200%2000201%200h11V0h-21v3a411%20411%200%2000-1%2021c2%200%202%2075%200%2076-2%203-3%2028%200%2028v2l-1%2047v44H24v-17a628%20628%200%2001-2-19l-2-1V0H0v113m115-79l-43%201H28v44h8a3641%203641%200%2000170-1c3-1%204-2%209-19%203-14%205-19%207-20%202-2%206-2%2062-2a681%20681%200%2000-54-2%202430%202430%200%2001-115-1m143%2061c-1%201%208%201%2029%201l30-1h-59\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/faeb13b3d75973cb1a100892109e8186/277cf/img110.webp 310w,\n/static/faeb13b3d75973cb1a100892109e8186/5077d/img110.webp 620w,\n/static/faeb13b3d75973cb1a100892109e8186/e1adb/img110.webp 1240w,\n/static/faeb13b3d75973cb1a100892109e8186/a1c21/img110.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/faeb13b3d75973cb1a100892109e8186/b0751/img110.jpg 310w,\n/static/faeb13b3d75973cb1a100892109e8186/e1d7b/img110.jpg 620w,\n/static/faeb13b3d75973cb1a100892109e8186/d1f04/img110.jpg 1240w,\n/static/faeb13b3d75973cb1a100892109e8186/6c315/img110.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/faeb13b3d75973cb1a100892109e8186/d1f04/img110.jpg\"\n          alt=\"Soporte de HTTPS en venta.renfe.com\"\n          title=\"Soporte de HTTPS en venta.renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Soporte de HTTPS en venta.renfe.com</figcaption>\n  </figure></p>\n<h3 id=\"falta-de-minificacion-y-combinacion\">Falta de minificación y combinación</h3>\n<p>Si analizamos los estáticos vamos a ver que hay CSS y JS sin minificar.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h162v-2c0-2%200-2-12-2-11%200-12%200-15-2-4-4-20-4-26%200-2%202-6%202-44%202H24v-31h22l22%201%2047%201h47v-16H68v-5H24v-23l2-26%201-2v2c1%202%201%202%202%201h2c0%202%2033%201%2035%200%201-1%201-1%201%201v3l1-33V60H24v20c0%2019%200%2019-2%2018s-2-2-2-50V0H0v113M379%202v7c-2%2010-2%2023-1%2023l1%2016v17l-1-13-1-12v13l-1%2014v1l1%2079v78h23V0h-10c-9%200-11%200-11%202M76%2018l-52%201v38h44v-9h47l47-1-24-1c-18%200-23%200-22-1l3-11%204-12%201-3h19l19-1-18-1-68%201M27%2028v5c1%202%202%202%2016%202h14v-8l-15-1c-13%200-14%200-15%202m69%2033l-1%203v3h47v-6l-23-1-23%201\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/2f916b56fbb1f5612a3aac1d11a09e67/277cf/img120.webp 310w,\n/static/2f916b56fbb1f5612a3aac1d11a09e67/5077d/img120.webp 620w,\n/static/2f916b56fbb1f5612a3aac1d11a09e67/e1adb/img120.webp 1240w,\n/static/2f916b56fbb1f5612a3aac1d11a09e67/a1c21/img120.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/2f916b56fbb1f5612a3aac1d11a09e67/b0751/img120.jpg 310w,\n/static/2f916b56fbb1f5612a3aac1d11a09e67/e1d7b/img120.jpg 620w,\n/static/2f916b56fbb1f5612a3aac1d11a09e67/d1f04/img120.jpg 1240w,\n/static/2f916b56fbb1f5612a3aac1d11a09e67/6c315/img120.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/2f916b56fbb1f5612a3aac1d11a09e67/d1f04/img120.jpg\"\n          alt=\"CSS sin minificar en Renfe.com\"\n          title=\"CSS sin minificar en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">CSS sin minificar en Renfe.com</figcaption>\n  </figure></p>\n<p>Librerías como jQuery y jQuery UI por lo menos sí lo están. Hay ficheros que son el resultante de una combinación “a mano” de 2 estáticos.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h81c80%200%2081%200%2081-2s-1-2-12-2-13%200-15-2-3-2-12-2-10%200-13%202-3%202-44%202H24v-5l-2-24c0-5%200-5-1-2-1%201-1-1-1-7%201-12%202-12%203%200l1%208c0-1%2044-2%2044%200l47%201h47v-7h16c18%200%2023-1%205-2-11%200-14-1-13-3%201-1%2021-1%2021%201s1%202%201%200c1-2%203-2%2025-1%209%201%208%203-2%203l-20%201%2016%201h17v-7h-29a1133%201133%200%2001-31%201l1%203c0%202%200%202-2%202s-2-1-2-3c-1-5%200-5-50-5H68v-5H24v-36c0-35%200-36-2-36-2-1-2-2-2-50V0H0v113M380%207l-1%2050v43c-2%200-3%2028-1%2028v7l-1%2046v44h23V0h-20v7M92%2018H24v28h45l46-1%204-11%204-12%201-3h19l19-1-1-1-69%201M27%2028v5c1%202%202%202%2016%202h14v-9H43c-14%200-15%200-16%202m69%2033l-1%203v3h23c25%200%2026%200%2023-5-1-2-2-2-23-2l-22%201\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/74fee1166d4162fb2f719e2feb06acb3/277cf/img127.webp 310w,\n/static/74fee1166d4162fb2f719e2feb06acb3/5077d/img127.webp 620w,\n/static/74fee1166d4162fb2f719e2feb06acb3/e1adb/img127.webp 1240w,\n/static/74fee1166d4162fb2f719e2feb06acb3/a1c21/img127.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/74fee1166d4162fb2f719e2feb06acb3/b0751/img127.jpg 310w,\n/static/74fee1166d4162fb2f719e2feb06acb3/e1d7b/img127.jpg 620w,\n/static/74fee1166d4162fb2f719e2feb06acb3/d1f04/img127.jpg 1240w,\n/static/74fee1166d4162fb2f719e2feb06acb3/6c315/img127.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/74fee1166d4162fb2f719e2feb06acb3/d1f04/img127.jpg\"\n          alt=\"Combinación de JS a mano en Renfe.com\"\n          title=\"Combinación de JS a mano en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Combinación de JS a mano en Renfe.com</figcaption>\n  </figure></p>\n<p>En general la gestión de estáticos de la web de Renfe parece que se ha congelado en el tiempo, pero bastante atrás en el tiempo. No usan ningún tipo de herramientas para minificar o para combinar los estáticos y los ficheros se han ido añadiendo al HTML sin mucho cuidado.</p>\n<p>Se solicitan 4 recursos CSS sin combinar, y hace que el navegador tenga que esperar a que se descarguen para poder empezar a pintar.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h49c48%200%2049%200%2048-2%200-2-1-2-37-2H24v-5c0-20-2-29-3-25-1%201-1-2-1-8%201-12%202-12%203%200l1%208a205%20205%200%200158%201h15v-7c1-10%202-9-15-9H68v-5H24v-16l1-18a165%20165%200%200142%200l1-24V90h15l14-1H69l-1-9c0-7%200-8%202-10v-1c-2%200-2-1-2-10l1-10h28V18H24v3a11863%2011863%200%2000-2%2078l-2-1V0H0v113M380%206a1078%201078%200%2000-1%2093l-1-26-1%2062v90h23V0h-20v6M27%2027v7l16%201h14v-9H43l-16%201\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/f13b992a939c45b2f6b6e03c5e0061a3/277cf/img136.webp 310w,\n/static/f13b992a939c45b2f6b6e03c5e0061a3/5077d/img136.webp 620w,\n/static/f13b992a939c45b2f6b6e03c5e0061a3/e1adb/img136.webp 1240w,\n/static/f13b992a939c45b2f6b6e03c5e0061a3/a1c21/img136.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/f13b992a939c45b2f6b6e03c5e0061a3/b0751/img136.jpg 310w,\n/static/f13b992a939c45b2f6b6e03c5e0061a3/e1d7b/img136.jpg 620w,\n/static/f13b992a939c45b2f6b6e03c5e0061a3/d1f04/img136.jpg 1240w,\n/static/f13b992a939c45b2f6b6e03c5e0061a3/6c315/img136.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/f13b992a939c45b2f6b6e03c5e0061a3/d1f04/img136.jpg\"\n          alt=\"Múltiples CSS bloqueantes en Renfe.com\"\n          title=\"Múltiples CSS bloqueantes en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Múltiples CSS bloqueantes en Renfe.com</figcaption>\n  </figure></p>\n<p>Encima, justo después del CSS se piden recursos JS, con lo que el navegador no va a poder empezar a renderizar nada porque la request al JS va a bloquear el renderizado del contenido que está en el body. Son una serie de recursos que se están añadiendo en el critical path que va a hacer que nuestro contenido tarde mucho en cargar.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h21v-5l1-4v9h38c36%200%2037%200%2037-2s-1-2-36-2l-37-1-1-14-1-14v11l-1%2013-1-22%201-21c1%201%202%203%202%209v8h23l22%201%2014%201h15v-7c1-10%202-9-15-9-14%200-14%200-14-2-1-3%201-3-24-3H24v-40h26c2-1%201-1-5-1-5%200-6-1-6-3v-8l-1%202c-1%203-2%203-3%201%200-2%204-7%206-7%201%200%203%205%201%206v3c4%200%203-9%200-12v-3l1-4%201-3v3c0%203%204%2011%205%2011s1-3-1-7l-1-4c0-5%200-5-6-7-5-1-6-2-5-4l-3-8-1-2c-1-4-5-6-5-2l-1%206-2%207c0%203%200%204-2%204-1-1-2-4-2-50V0H0v113M380%206v50l-1%2044c-3%200-3%2026-1%2028s1%208%200%208l-1%2044%201%2045h22V0h-20v6M60%2018H24v35h20l20-1h1c0%202%202%201%203-1v-2l14-1h15V17l-37%201m-33%209v7l16%201h14v-9H43l-16%201m3%2083c0%202%200%202-1%201%200-1-1-2-3-2s-2%200-2%207c0%205%201%207%202%207l2-2%202-3%201-1-1-2-2-1c0-3%203-2%204%201l1%203%203-2c2-3%202-3%200-5-2-4-6-4-6-1\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/4b695ea9abb6d38eed358a1fea2730a4/277cf/img143.webp 310w,\n/static/4b695ea9abb6d38eed358a1fea2730a4/5077d/img143.webp 620w,\n/static/4b695ea9abb6d38eed358a1fea2730a4/e1adb/img143.webp 1240w,\n/static/4b695ea9abb6d38eed358a1fea2730a4/a1c21/img143.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/4b695ea9abb6d38eed358a1fea2730a4/b0751/img143.jpg 310w,\n/static/4b695ea9abb6d38eed358a1fea2730a4/e1d7b/img143.jpg 620w,\n/static/4b695ea9abb6d38eed358a1fea2730a4/d1f04/img143.jpg 1240w,\n/static/4b695ea9abb6d38eed358a1fea2730a4/6c315/img143.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/4b695ea9abb6d38eed358a1fea2730a4/d1f04/img143.jpg\"\n          alt=\"JS bloqueantes justo después del CSS en Renfe.com\"\n          title=\"JS bloqueantes justo después del CSS en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">JS bloqueantes justo después del CSS en Renfe.com</figcaption>\n  </figure></p>\n<h3 id=\"codigo-condicional\">Código condicional</h3>\n<p>Hay detalles como por ejemplo el awesomplete.css que parece ser que sólo se aplica a Safari, o esa era la idea que tenían, y también hay un awesomplete.min.js que es la parte de JS de <a href=\"https://leaverou.github.io/awesomplete/\">esa librería</a>, que es un auto completado que desarrolló <a href=\"https://twitter.com/leaverou\">Lea Verou</a>. Si lo estaban sirviendo sólo para Safari, una buena solución es comprobar el navegador que está haciendo la petición. Aunque tampoco hay que abogar mucho por hacer la detección de user agent en el lado del servidor y deberíamos usar feature detection en el lado del cliente.</p>\n<h3 id=\"codigo-comentado\">Código comentado</h3>\n<p>Hay mucho código comentado en el CSS y en JS. A veces parece que no hay ni siquiera una herramienta de control de versiones del código fuente.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h21v-5l1-4v9h38c37%200%2038%200%2037-2%200-2-1-2-37-2H24v-3l-1-13-1-11v9l-1%209-1-19c0-12%201-19%202-19l1%208v9l23-1%2022%201%2032%201a343%20343%200%200019-2c-12%200-13%200-13-2%200-1%201-2%2012-2l13%201h1c0-2-1-2-14-2h-14v3c0%202%200%203-2%203s-2-1-2-3l-1-4-1-3v-4l-15-1H68v-5H24v-40a816%20816%200%2000-2-32l-2-1V0H0v113M380%206v51l-1%2043c-2-1-2%200-2%2013l1%2015v11l-1%2048%201%2038h22V0h-20v6M60%2018H24v28h73V17l-37%201m-33%209v6c2%202%204%202%2016%202h14v-9H43l-16%201m107%20159c2%202%202%206%200%205h-1l15%201h15v-7h-15c-13%200-15%200-14%201\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/a22aef2f8ab4380e8c850ae4c75eaea7/277cf/img153.webp 310w,\n/static/a22aef2f8ab4380e8c850ae4c75eaea7/5077d/img153.webp 620w,\n/static/a22aef2f8ab4380e8c850ae4c75eaea7/e1adb/img153.webp 1240w,\n/static/a22aef2f8ab4380e8c850ae4c75eaea7/a1c21/img153.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/a22aef2f8ab4380e8c850ae4c75eaea7/b0751/img153.jpg 310w,\n/static/a22aef2f8ab4380e8c850ae4c75eaea7/e1d7b/img153.jpg 620w,\n/static/a22aef2f8ab4380e8c850ae4c75eaea7/d1f04/img153.jpg 1240w,\n/static/a22aef2f8ab4380e8c850ae4c75eaea7/6c315/img153.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/a22aef2f8ab4380e8c850ae4c75eaea7/d1f04/img153.jpg\"\n          alt=\"Código comentado en Renfe.com\"\n          title=\"Código comentado en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Código comentado en Renfe.com</figcaption>\n  </figure></p>\n<p>En otro fichero se lee “todo esto tampoco va” seguido de un código comentado.  Este código se puede eliminar y dejar de servirlo al navegador.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h49c48%200%2049%200%2049-2-1-2-1-2-37-2H24v-31h22l22%201%2015%201h15v-15l-15-1H68v-5H24v-22c0-16%201-22%202-24l2-1%2018%201c18%200%2018%200%2019-2s1-2%201%201v4l1-3%201-34V60H24v20c0%2019%200%2019-2%2018s-2-2-2-50V0H0v113M379%203v5l-1%204v32c-1-6-2%2067-1%20129v52h23V0h-21v3M59%2018l-35%201a119%20119%200%20000%2032v6h44v-9h29V34l1-10c0-6-1-7-2-7l-37%201M27%2028v4l1%203h29v-8l-14-1c-14%200-15%200-16%202\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/a3825b4704e24d8c0fdf4326db71b198/277cf/img160.webp 310w,\n/static/a3825b4704e24d8c0fdf4326db71b198/5077d/img160.webp 620w,\n/static/a3825b4704e24d8c0fdf4326db71b198/e1adb/img160.webp 1240w,\n/static/a3825b4704e24d8c0fdf4326db71b198/a1c21/img160.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/a3825b4704e24d8c0fdf4326db71b198/b0751/img160.jpg 310w,\n/static/a3825b4704e24d8c0fdf4326db71b198/e1d7b/img160.jpg 620w,\n/static/a3825b4704e24d8c0fdf4326db71b198/d1f04/img160.jpg 1240w,\n/static/a3825b4704e24d8c0fdf4326db71b198/6c315/img160.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/a3825b4704e24d8c0fdf4326db71b198/d1f04/img160.jpg\"\n          alt=\"Código comentado en Renfe.com\"\n          title=\"Código comentado en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Código comentado en Renfe.com</figcaption>\n  </figure></p>\n<p>Hay también comentarios que son un pseudo changelog, con las fechas en las que se han hecho cambios en los ficheros. Esta información debería ir a un control de versiones.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h49c48%200%2049%200%2048-2%200-2-1-2-37-2H24v-5c0-21-1-30-3-25-1%201-1-2-1-8%201-12%202-12%203%200l1%208a205%20205%200%200158%201h15v-15l-15-1H68v-5H24v-16l1-18a187%20187%200%200141-1h1l1-23V90h15l14-1H69l-1-9c0-7%200-9%202-10v-1c-2%200-2-1-2-10l1-10h28V18H24v41c0%2036%200%2040-2%2040l-2-1V0H0v113M380%206a1108%201108%200%2000-1%2093c-1%201-1-7-1-26a336%20336%200%2000-1%2033v119h23V0h-20v6M27%2028v5c1%202%202%202%2016%202h14v-9H43c-14%200-15%200-16%202\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/6344eaf71b4c0f000db96c4d7bf1c893/277cf/img170.webp 310w,\n/static/6344eaf71b4c0f000db96c4d7bf1c893/5077d/img170.webp 620w,\n/static/6344eaf71b4c0f000db96c4d7bf1c893/e1adb/img170.webp 1240w,\n/static/6344eaf71b4c0f000db96c4d7bf1c893/a1c21/img170.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/6344eaf71b4c0f000db96c4d7bf1c893/b0751/img170.jpg 310w,\n/static/6344eaf71b4c0f000db96c4d7bf1c893/e1d7b/img170.jpg 620w,\n/static/6344eaf71b4c0f000db96c4d7bf1c893/d1f04/img170.jpg 1240w,\n/static/6344eaf71b4c0f000db96c4d7bf1c893/6c315/img170.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/6344eaf71b4c0f000db96c4d7bf1c893/d1f04/img170.jpg\"\n          alt=\"Código comentado en Renfe.com\"\n          title=\"Código comentado en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Código comentado en Renfe.com</figcaption>\n  </figure></p>\n<h3 id=\"potenciales-mejoras-al-servir-los-estaticos\">Potenciales mejoras al servir los estáticos</h3>\n<p>Los estáticos JS podrían cargarse de forma asíncrona al final del body. No se utiliza CDN y se piden muchos recursos al mismo dominio, lo que combinado con no usar http/2 hace aumentar el tiempo de carga.</p>\n<p>El tiempo de cacheo es muy corto. En algunos casos, como en las fuentes woff2, de 1 segundo. Además, combinado con ETags hace que siempre sea necesaria hacer una petición al navegador para recursos que podrían ser versionados y cacheados durante un periodo largo.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h49c48%200%2049%200%2048-2%200-2-1-2-5-2-3%200-4%200-5-2%200-3-5-5-12-6-7%200-12%201-18%205-4%203-4%203-18%203H24v-18c0-17%200-18%202-18l2%201c-1%204-1%204%2034%204h35v-3l1-3%2033-1h33v-7h-33l-33-1-36-1H28v-3c0-2%200-3-2-3s-2%200-2-13%201-16%202-15l1-2-1-3c-1%200-2-4-2-17%200-17%200-18-2-20-2-1-2-2-2-50V0H0v113m380-64l-1%2051c-2%200-3%2028-1%2028l1%204c0%203%200%203-1%201l-1%2045v47h23V0h-21l1%2049M60%2018H24v16c0%207%200%208%202%208a3962%203962%200%200034%202H24v11l1%2011v1c-1%201-1%201%201%201l1-11V46h70V18H60m-6%2043l1%204h42v-7H54v3m52%20119l14%201a15502%2015502%200%200125-2c1-1%200-1-4-1l-7%201h-1l-14-1c-11%200-13%201-13%202\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/f20d6923bb1fc59d0d246087f27f8094/277cf/img180.webp 310w,\n/static/f20d6923bb1fc59d0d246087f27f8094/5077d/img180.webp 620w,\n/static/f20d6923bb1fc59d0d246087f27f8094/e1adb/img180.webp 1240w,\n/static/f20d6923bb1fc59d0d246087f27f8094/a1c21/img180.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/f20d6923bb1fc59d0d246087f27f8094/b0751/img180.jpg 310w,\n/static/f20d6923bb1fc59d0d246087f27f8094/e1d7b/img180.jpg 620w,\n/static/f20d6923bb1fc59d0d246087f27f8094/d1f04/img180.jpg 1240w,\n/static/f20d6923bb1fc59d0d246087f27f8094/6c315/img180.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/f20d6923bb1fc59d0d246087f27f8094/d1f04/img180.jpg\"\n          alt=\"Tiempos de cacheo muy cortos para fuentes en Renfe.com\"\n          title=\"Tiempos de cacheo muy cortos para fuentes en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Tiempos de cacheo muy cortos para fuentes en Renfe.com</figcaption>\n  </figure></p>\n<p>La imagen del logo de Renfe podría servirse en SVG e incluso hacerlo inline, dado que va a aparecer <em>above the fold</em>.</p>\n<p>Los recursos están bien comprimidos pero el favicon.ico tiene un tamaño de 32 kb. Es bastante grande para ser un favicon, pero aparte de ello está sin comprimir. El formato ico es compresible así que no hay excusa para olvidar servirlo comprimido.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h49c48%200%2049%200%2048-2%200-2-1-2-37-2H24v-12l-1-19-1-6v8c0%2012-2%206-2-8%200-9%200-10%202-10%201%200%202-2%202-37%200-37%200-38-2-38-2-1-2-2-2-50V0H0v113m380-63l-1%2050c-3%201-3%2028-1%2028l1%205-1%204c-1-1-1%2017-1%2043v45h23V0h-21l1%2050M60%2018H24v29h73V18H60m-18%207l-1%204%201%203h25v-8H55l-13%201m35%2039l-1%203c1%202%2016%203%2017%201h1l2%201%201-4v-3h-9c-7%200-10%201-11%202\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/a8dd2f3597e3af9954e2924d353e2cea/277cf/img224.webp 310w,\n/static/a8dd2f3597e3af9954e2924d353e2cea/5077d/img224.webp 620w,\n/static/a8dd2f3597e3af9954e2924d353e2cea/e1adb/img224.webp 1240w,\n/static/a8dd2f3597e3af9954e2924d353e2cea/a1c21/img224.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/a8dd2f3597e3af9954e2924d353e2cea/b0751/img224.jpg 310w,\n/static/a8dd2f3597e3af9954e2924d353e2cea/e1d7b/img224.jpg 620w,\n/static/a8dd2f3597e3af9954e2924d353e2cea/d1f04/img224.jpg 1240w,\n/static/a8dd2f3597e3af9954e2924d353e2cea/6c315/img224.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/a8dd2f3597e3af9954e2924d353e2cea/d1f04/img224.jpg\"\n          alt=\"Favicon sin comprimir en Renfe.com\"\n          title=\"Favicon sin comprimir en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Favicon sin comprimir en Renfe.com</figcaption>\n  </figure></p>\n<h3 id=\"performance-in-page\">Performance in-page</h3>\n<p>Al analizar la performance una vez cargada la página encontraos un timer que se está disparando constantemente.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%2039v11h50c58%200%2052%201%2056-12l3-8%20145-1h146v10l1%2011V28H0v11m4-2c-2%203-2%204%200%206%201%202%202%202%2018%202h16V34H5l-1%203m348%2014c-5%201-6%202-4%203l1%202c0%202%202%202%2012%203h12l-6-4c-6-4-9-5-15-4M26%2053v3c0%203%203%203%206%202h18c0-3-1-4-4-4l-5-1-9-2c-6%200-7%200-6%202m149-1v6h26v-1l-2-1c-4-4-7-5-14-5l-10%201m30%2063c0%201-4%202-18%202-18%200-20%200-17%204l11%201h12l10%201c7-1%208-1%208-3%200-3%201-3%204-3l3-1c0-2-1-2-7-2-5%200-7%200-6%201m-82%202c-3%200-4%201-4%202v2c0%201%201%202%203%201a88%2088%200%200126%201c4%200%204-1%204-4v-3h-12l-17%201m100%200c-4%201-4%206%200%205h27c4%200%205%200%205-2v-3l-14-1-18%201m53%200c-5%200-5%200-4%203%200%203%200%203%203%202a74%2074%200%200127%201c3-1%204-1%204-4v-2l-13-1-17%201m46%200l1%203c0%203%204%203%207%202h18l5%201c3%200%204-1%204-3v-3h-35m-305%203v2h33v-5H17v3m52-2c-3%204-1%204%2016%204h16v-5H86l-17%201\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/84020b7ef953019ff7e9d69caef2ca3c/277cf/img244.webp 310w,\n/static/84020b7ef953019ff7e9d69caef2ca3c/5077d/img244.webp 620w,\n/static/84020b7ef953019ff7e9d69caef2ca3c/e1adb/img244.webp 1240w,\n/static/84020b7ef953019ff7e9d69caef2ca3c/a1c21/img244.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/84020b7ef953019ff7e9d69caef2ca3c/b0751/img244.jpg 310w,\n/static/84020b7ef953019ff7e9d69caef2ca3c/e1d7b/img244.jpg 620w,\n/static/84020b7ef953019ff7e9d69caef2ca3c/d1f04/img244.jpg 1240w,\n/static/84020b7ef953019ff7e9d69caef2ca3c/6c315/img244.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/84020b7ef953019ff7e9d69caef2ca3c/d1f04/img244.jpg\"\n          alt=\"Función que se ejecuta periodicamente en Renfe.com\"\n          title=\"Función que se ejecuta periodicamente en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Función que se ejecuta periodicamente en Renfe.com</figcaption>\n  </figure></p>\n<p>Es un tracker de Adobe que ejecuta una función cada 50 milisegundos un máximo de 18.000 veces, provocando cambios en 2 elementos del DOM principales.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%203c0%203%200%203%202%203l200-1h199V0H0v3m10%2025H0v15l1%2016h399l1-16V28H10m316%20122c-5%201%201%202%2021%202l19-1c-1-2-36-2-40-1\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/ecfad90afde1c1f0e360ef5ecc1c1d01/277cf/img271.webp 310w,\n/static/ecfad90afde1c1f0e360ef5ecc1c1d01/5077d/img271.webp 620w,\n/static/ecfad90afde1c1f0e360ef5ecc1c1d01/e1adb/img271.webp 1240w,\n/static/ecfad90afde1c1f0e360ef5ecc1c1d01/a1c21/img271.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/ecfad90afde1c1f0e360ef5ecc1c1d01/b0751/img271.jpg 310w,\n/static/ecfad90afde1c1f0e360ef5ecc1c1d01/e1d7b/img271.jpg 620w,\n/static/ecfad90afde1c1f0e360ef5ecc1c1d01/d1f04/img271.jpg 1240w,\n/static/ecfad90afde1c1f0e360ef5ecc1c1d01/6c315/img271.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/ecfad90afde1c1f0e360ef5ecc1c1d01/d1f04/img271.jpg\"\n          alt=\"Cambios en 2 elementos DOM continuamente en Renfe.com\"\n          title=\"Cambios en 2 elementos DOM continuamente en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Cambios en 2 elementos DOM continuamente en Renfe.com</figcaption>\n  </figure></p>\n<p>Una manera de comprobar que realmente es el tracker es bloquear la carga de recursos del dominio de ese archivo, en cuyo caso deja de aparecer el problema.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%2039l1%2011%201%205v4h21c24%200%2027-1%2027-4v-3h79v7h43a454%20454%200%200059-1l84%201h83v-9h-43a164261%20164261%200%2000-252-2l3-9%203-9%20145-1h146v10l1%2011V28H0v11m4-3c-2%205-2%206%200%206l1%201c0%201%203%202%2016%202h17V34H22C6%2034%205%2034%204%2036m37%2062l1%203c2%201%202%201%200%201-1%201%205%201%2014%201%2013%200%2016%200%2014-1s-2-1%203-2l5-1c0-2-35-3-37-1m117%200h-30l-30%201%2022%201c35%200%2037%200%2037%202l21%201%2020-1h-20c-14%200-17%200-13-1l15-1%2014-1h4l-3-1h-37\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/bd2274debcf832d4dee0cc2dca888faa/277cf/img285.webp 310w,\n/static/bd2274debcf832d4dee0cc2dca888faa/5077d/img285.webp 620w,\n/static/bd2274debcf832d4dee0cc2dca888faa/e1adb/img285.webp 1240w,\n/static/bd2274debcf832d4dee0cc2dca888faa/a1c21/img285.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/bd2274debcf832d4dee0cc2dca888faa/b0751/img285.jpg 310w,\n/static/bd2274debcf832d4dee0cc2dca888faa/e1d7b/img285.jpg 620w,\n/static/bd2274debcf832d4dee0cc2dca888faa/d1f04/img285.jpg 1240w,\n/static/bd2274debcf832d4dee0cc2dca888faa/6c315/img285.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/bd2274debcf832d4dee0cc2dca888faa/d1f04/img285.jpg\"\n          alt=\"Bloqueando el dominio desde el que se sirve el tracker de Adobe en Renfe.com\"\n          title=\"Bloqueando el dominio desde el que se sirve el tracker de Adobe en Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Bloqueando el dominio desde el que se sirve el tracker de Adobe en Renfe.com</figcaption>\n  </figure></p>\n<p>Además de analizar la página principal queríamos revisar la web de venta, la que se muestra al seleccionar un billete. Los recursos que se sirven son muy diferentes a los de la página principal. Se sirven desde diferentes ubicaciones, están versionados utilizando un query parameter…</p>\n<p>Algunos ficheros tienen un contenido casi idéntico, pero en algún momento se hizo un cambio en uno de ellos y no se actualizó el otro. Esto es una fuente de problemas de inconsistencia y también previene reutilizar el archivo ya descargado cuando el usuario va desde la home hasta la página de venta.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h401V0h-21v8l-1%209-355%201V9l-1-9c-2%200-2%201-1%2010l-1%209-1-10V0H0v113m123-92l-3%2010-4%2011-47%201H24v30l-1-14c-2-30-3-29-3%205%200%2032%200%2033%202%2034s2%202%202%2015v14h50l51%201v10H25l-1%2041v42h356V19H252c-121%200-128%200-129%202\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/b101db234f357ff7932798b4d7fda67c/277cf/img326.webp 310w,\n/static/b101db234f357ff7932798b4d7fda67c/5077d/img326.webp 620w,\n/static/b101db234f357ff7932798b4d7fda67c/e1adb/img326.webp 1240w,\n/static/b101db234f357ff7932798b4d7fda67c/a1c21/img326.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/b101db234f357ff7932798b4d7fda67c/b0751/img326.jpg 310w,\n/static/b101db234f357ff7932798b4d7fda67c/e1d7b/img326.jpg 620w,\n/static/b101db234f357ff7932798b4d7fda67c/d1f04/img326.jpg 1240w,\n/static/b101db234f357ff7932798b4d7fda67c/6c315/img326.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/b101db234f357ff7932798b4d7fda67c/d1f04/img326.jpg\"\n          alt=\"Fichero de funciones JS de la sección Venta de Renfe.com\"\n          title=\"Fichero de funciones JS de la sección Venta de Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Fichero de funciones JS de la sección Venta de Renfe.com</figcaption>\n  </figure></p>\n<p>El fichero de i18n tiene una extensa introducción listando todos los cambios desde 2009 hasta 2017. El archivo contiene todas las cadenas de texto en un código sin minificar. Aparte de minificar se podría hacer un split del fichero, dado que la mayoría de cadenas no se utilizan en la página actual.</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 1240px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/svg+xml,%3csvg%20xmlns=\\'http://www.w3.org/2000/svg\\'%20width=\\'400\\'%20height=\\'225\\'%3e%3cpath%20d=\\'M0%20113v112h401V0h-21v8c0%207%200%209-2%209l-178%201H24V9l-1-9c-1%200-2%201-1%2010%200%207%200%2010-1%209L20%208V0H0v113m123-92l-3%2010-4%2011-47%201H24v38l-1-18c-2-41-3-41-3-3%200%2036%200%2037%202%2038s2%202%202%2015v14h50l51%201v10H24v83h356v-44a415%20415%200%2000-1-48l1-56V19H252c-121%200-128%200-129%202\\'%20fill=\\'%23d3d3d3\\'%20fill-rule=\\'evenodd\\'/%3e%3c/svg%3e'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n        <source\n          srcset=\"/static/c431a36150e1e32f065d307c3072d696/277cf/img328.webp 310w,\n/static/c431a36150e1e32f065d307c3072d696/5077d/img328.webp 620w,\n/static/c431a36150e1e32f065d307c3072d696/e1adb/img328.webp 1240w,\n/static/c431a36150e1e32f065d307c3072d696/a1c21/img328.webp 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/webp\"\n        />\n        <source\n          srcset=\"/static/c431a36150e1e32f065d307c3072d696/b0751/img328.jpg 310w,\n/static/c431a36150e1e32f065d307c3072d696/e1d7b/img328.jpg 620w,\n/static/c431a36150e1e32f065d307c3072d696/d1f04/img328.jpg 1240w,\n/static/c431a36150e1e32f065d307c3072d696/6c315/img328.jpg 1280w\"\n          sizes=\"(max-width: 1240px) 100vw, 1240px\"\n          type=\"image/jpeg\"\n        />\n        <img\n          class=\"gatsby-resp-image-image\"\n          src=\"/static/c431a36150e1e32f065d307c3072d696/d1f04/img328.jpg\"\n          alt=\"Lista de cambios del fichero i18n de la sección Venta de Renfe.com\"\n          title=\"Lista de cambios del fichero i18n de la sección Venta de Renfe.com\"\n          loading=\"lazy\"\n        />\n      </picture>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Lista de cambios del fichero i18n de la sección Venta de Renfe.com</figcaption>\n  </figure></p>\n<h3 id=\"conclusion\">Conclusión</h3>\n<p>Desde un punto de vista de la web performance hay muchos puntos de mejora. Se puede ver perfectamente que es un proyecto que se ha ido modificando durante el tiempo por diferentes equipos, y nunca se ha hecho un seguimiento desde un punto de vista global y de consistencia.</p>\n<p>Esto ha sido todo esperamos que os haya gustado esta review. Como veis queríamos dar un punto de vista diferente a la hora de analizar la web de Renfe.</p>\n<hr>\n<h2 id=\"referencias\">Referencias</h2>\n<ul>\n<li><a href=\"https://www.xataka.com/empresas-y-economia/que-700-000-euros-presupuesto-ridiculo-para-arreglar-web-renfe\">Por qué 700.000 euros es un presupuesto ridículo para “arreglar” la web de Renfe</a></li>\n</ul>\n<h2 id=\"informes\">Informes</h2>\n<ul>\n<li><a href=\"https://lighthouse-dot-webdotdevsite.appspot.com/lh/html?url=http://www.renfe.com/\">Lighthouse</a></li>\n<li><a href=\"https://www.webpagetest.org/result/190203_6W_f731e8558a0ba75cf55b33eae476cd6d/\">WebPageTest desktop</a></li>\n<li><a href=\"https://cssstats.com/stats?url=http%3A%2F%2Frenfe.com&#x26;ua=Browser%20Default\">CSS Stats</a></li>\n</ul>\n<h2 id=\"recurso\">Recurso</h2>\n<ul>\n<li><a href=\"https://addyosmani.com/blog/script-priorities/\">JavaScript Loading Priorities in Chrome</a> por Addy Osmani.</li>\n</ul>","frontmatter":{"title":"Análisis de web performance de la web de Renfe","date":"February 26, 2019","description":"Analizamos la web de Renfe. Veremos estáticos sin minificar, duplicación de assets, combinación de recursos “a mano” y problemas de repintado producidos por librerías de tracking.","featuredImage":{"childImageSharp":{"fluid":{"aspectRatio":1,"src":"/static/5f463a78166dbdbdd4dbad4c7069806c/e9c7b/review-renfe.png","srcSet":"/static/5f463a78166dbdbdd4dbad4c7069806c/69781/review-renfe.png 250w,\n/static/5f463a78166dbdbdd4dbad4c7069806c/3fa08/review-renfe.png 500w,\n/static/5f463a78166dbdbdd4dbad4c7069806c/e9c7b/review-renfe.png 1000w,\n/static/5f463a78166dbdbdd4dbad4c7069806c/a4fe2/review-renfe.png 1500w,\n/static/5f463a78166dbdbdd4dbad4c7069806c/dc9f7/review-renfe.png 2000w,\n/static/5f463a78166dbdbdd4dbad4c7069806c/40725/review-renfe.png 3000w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/reviews/1.5-renfe.com/","previous":{"fields":{"slug":"/reviews/1.4-smashingmagazine.com/"},"frontmatter":{"title":"Análisis de web performance de la web de Smashing Magazine"}},"next":{"fields":{"slug":"/tools/1.1-Lighthouse-Report/"},"frontmatter":{"title":"Lighthouse Report"}}}}}